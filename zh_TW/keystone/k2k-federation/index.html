<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>IBM Bluemix Private Cloud 上的 Keystone 對 Keystone (K2K) 聯合</title>
  <meta name="description" content="  何謂 K2K 聯合？  管理群組  管理對映  使用 Horizon  使用 Python API 檔案庫  其他對映和群組何謂 K2K 聯合？Keystone 對 Keystone (K2K) 聯合是一種可使用某一 Keystone 執行實例中的認證來登入多個 IBM Bluemix Private Clo...">

  <link rel="stylesheet" href="/tyying/help-documentation-staging-area/css/main.css">
  <link rel="canonical" href="/tyying/help-documentation-staging-area/zh_TW/keystone/k2k-federation/">
  <link rel="alternate" type="application/rss+xml" title="Blue Box Help" href="/tyying/help-documentation-staging-area/zh_TW/feed.xml">
  
  <style>
   .site-header img:first-child {
       height: 72px;
}
</style>
  
</head>


  <body>

  
    <header class="site-header">

  <div class="header-wrapper">

    <a class="site-title" href="/tyying/help-documentation-staging-area/zh_TW/"><img src="/tyying/help-documentation-staging-area/img/zh_TW/Bluemix-logo-UI.svg" alt="" height="72px"></a>

    <div class="search--pageview">

  <div class="full-view__search hide">
    <a href="" class="x hide">X</a>
    <ul id="results-container"></ul>
    <ul class="results--container"></ul>

  </div>
  <div class="input-container">
    <label for="search__fullview" class="hide search--label">Search IBM Bluemix Private Cloud Help</label>
    <input type="text" id="search-input" placeholder="" name="search" class="search__minview--page">
    <img src="/tyying/help-documentation-staging-area/img/zh_TW/search.svg" class="search-icon" />
  </div>
</div>


    <a href="mailto:llundquist@us.ibm.com" class="header--request">
      <p>
        Submit A Request
      </p>
      <img src="/tyying/help-documentation-staging-area/img/zh_TW/user.svg">
    </a>
    <a id="nav-toggle" href="#"><span></span></a>

    <div>
  
    
      <a  href=" /tyying/help-documentation-staging-area/keystone/k2k-federation/ ">en</a> |
    
      <a  href=" /tyying/help-documentation-staging-area/fr/keystone/k2k-federation/ ">fr</a> |
    
      <a  href=" /tyying/help-documentation-staging-area/de/keystone/k2k-federation/ ">de</a> |
    
      <a  href=" /tyying/help-documentation-staging-area/ja/keystone/k2k-federation/ ">ja</a> |
    
      <a  href=" /tyying/help-documentation-staging-area/zh_CN/keystone/k2k-federation/ ">zh_CN</a> |
    
      <a style="font-weight: bold;" href=" /tyying/help-documentation-staging-area/zh_TW/keystone/k2k-federation/ ">zh_TW</a> |
    
      <a  href=" /tyying/help-documentation-staging-area/pt_BR/keystone/k2k-federation/ ">pt_BR</a> |
    
  
</div>

  </div>

</header>

  

  
  <div class="page-content">
  

      <div class="main-wrapper">
        
<div class="sidebar sidebar--toggled">
  <ul class="sidebar__nav">
    <li>
      <h3 class="title">
        
        
        
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted">Getting Started (41)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/zh_TW/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        <h5 class="sub__head">Common Technical Questions</h5>
        
        
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/openvpn-setup/">在執行實例上設定 OpenVPN 伺服器</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/connect-to-openvpn-server/">連接至 OpenVPN 伺服器</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/Customer_3.1.1_Point_Release/">Notas sobre a liberação do ponto 3.1.1 para cliente</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/blue-box-cloud-components/">Bluemix Private Cloud 元件</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/detaching-volume/">分離磁區之前我應該做什麼？</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/Customer_3.1.0_Release_Notes/">Notas sobre a liberação 3.1.0</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/Customer_4.0.0.0r_Release_Notes/">Notas sobre a liberação 4.0.0.0r</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/python-environment-primer/">虛擬 Python 環境與您：開發人員的開始使用書</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/FAQ/">技術常見問題</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/RHOSP_Product_Overview/">IBM Bluemix Private Cloud with Red Hat - 產品概觀</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/RHOSP_Building_Blocks/">為 IBM Bluemix Private Cloud with Red Hat 建置區塊</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/Building_Blocks/">IBM Bluemix Private Cloud 建置區塊（社群版）</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/general_product_overview/">一般產品概觀</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/Instance_Resize/">調整執行實例大小（非即時）</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/Connecting_Clouds_with_SoftLayer/">使用私有網路設定多個雲端環境之間的網路連線功能</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/Windows_License_Activation/">Windows 啟動客戶手冊</a>
              </li>
            
          
        
        <li><a href="" class="page-link view">View More ( 9 )</a></li>
      </ul>
      
      <ul  class="article__list slide-up-hidden" >
        <h5 class="sub__head">Common Administrative Questions</h5>
        
        
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commonadmin/adding-removing-subscribers/">新增或移除問題單的訂閱者</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commonadmin/view-my-bill/">如何檢視我的帳單？</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commonadmin/report-issue/">如何報告問題？</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commonadmin/escalating-a-ticket/">如何呈報問題單？</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commonadmin/status-pages/">Bluemix Private Cloud 狀態頁面</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/commonadmin/Transferring_A_Domain_From_Blue_Box/">透過 Blue Box 轉移網域</a>
              </li>
            
          
        
        <li><a href="" class="page-link view">View More ( 2 )</a></li>
      </ul>
      
      <ul  class="article__list slide-up-hidden" >
        <h5 class="sub__head">User Guides</h5>
        
        
          
             
         
             
         
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/userguides/Box_Panel/">Box Panel 使用手冊</a>
                  </li>
              
             
         
             
                <li>
                <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/userguides/Eternal_Blue-ish_Triangle/">Box Panel、網站控制器及 IBM Bluemix Private Cloud（本端）</a>
                </li>
              
         
             
                <li>
                <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/userguides/qemu_article/">淺談 OpenStack — QEMU 與您的雲端</a>
                </li>
              
         
             
                <li>
                <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/userguides/Improving_Cloud_Performance/">淺談 OpenStack II -- 增進雲端效能</a>
                </li>
              
         
             
                <li>
                <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/userguides/Optimized_Load_Balancing/">雲端 101 -- 最佳化負載平衡</a>
                </li>
              
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/userguides/Cloud_Images_Provided_RHOSP/">雲端映像檔的使用手冊 (IBM Bluemix Private Cloud with Red Hat)</a>
                  </li>
              
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/userguides/Cloud_Images_Provided_by_IBM/">雲端映像檔的使用手冊（社群版）</a>
                  </li>
              
             
         
             
         
             
         
             
         
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/gettingstarted/userguides/Image_Release_Notes/">IBM Bluemix Private Cloud 映像檔版本注意事項</a>
                  </li>
              
             
         
        <li><a href="" class="page-link view">View More ( 4 )</a></li>
      </ul>
      
      <ul  class="article__list slide-up-hidden" >
        <h5 class="sub__head">Release Notes</h5>
        
        
          
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/releasenotes/Customer_3.0.1_Point_Release/">客戶 3.0.1 版本注意事項</a>
                  </li>
              
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/releasenotes/Customer_3.1.1_Point_Release/">客戶 3.1.1 版本注意事項</a>
                  </li>
              
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/releasenotes/Customer_4.0.0.0c_Release_Notes/">Release Notes 4.0.0.0c</a>
                  </li>
              
             
         
             
                <li>
                <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/releasenotes/Customer_4.0.0.0r_Release_Notes/">版本注意事項 4.0.0.0r</a>
                </li>
              
         
             
                <li>
                <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/releasenotes/Customer_2.1.1_Point_Release/">版本注意事項 2.1.1</a>
                </li>
              
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/releasenotes/release_notes_2.1_for_customers/">版本注意事項 2.1</a>
                  </li>
              
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/releasenotes/Customer_3.0.0_Release_Notes/">版本注意事項 3.0.0</a>
                  </li>
              
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/releasenotes/Customer_3.1.0_Release_Notes/">版本注意事項 3.1.0</a>
                  </li>
              
             
         
        <li><a href="" class="page-link view">View More ( 6 )</a></li>
      </ul>
    </li>
    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting">Troubleshooting (19)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/zh_TW/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/libvirt_error/">執行實例處於錯誤狀態：libvirt 錯誤</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/ssh-too-long-error/">為何需要 4-5 秒的時間才能透過 SSH 連上我的執行實例？</a>
          </li>
          
        
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/ping-instance-error/">為何無法透過 SSH 連上執行實例或 ping 它？</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/nova-microversions-error/">錯誤：執行 Nova 指令時，發生「伺服器不支援微型版本」</a>
          </li>
          
        
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/Bad_Availability_Zone/">Cloud Foundry：無效可用性區域錯誤</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/failed_to_create_router/">嘗試建立路由器失敗</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/How_many_connections_can_HAProxy_handle/">HAProxy 可以處理多少同時連線？</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/CLI-authentication-error/">當我在 Windows 上使用任何 OpenStack CLI 時，發生鑑別失敗錯誤</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/floating-ips-error/">為何所有指派給我的浮動 IP 都無法使用？</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/horizon-delete-error/">為何無法從 Horizon 儀表板中刪除我的專案/租戶？</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/no-valid-host-error/">錯誤：找不到有效的主機</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/Cannot_See_New_vCPUs/">為何 Horizon 中沒有列出我的新 vCPU？</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/failure_prepping_block_device/">錯誤：準備區塊裝置時失敗</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/delete_security_group/">為何無法刪除安全群組？</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/Troubleshooting_FAQ/">疑難排解常見問題</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/Unable_to_ping_tenant_network/">為何無法在我的租戶網路之間執行 ping？</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/troubleshooting/Why_No_vIP_Failover_With_L2pop/">當我想要我的 vIP 執行實例進行失效接手時，為何無法使用 L2pop？</a>
              </li>
            
          
        
        <li><a href="" class="page-link view">View More ( 11 )</a></li>
      </ul>
    </li>
    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/zh_TW/openstack">Open Stack (15)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/zh_TW/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        <h5 class="sub__head">User Docs</h5>
        
        
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/openstack/userdocs/launch-instance-from-volume/">如何從磁區啟動執行實例</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/openstack/userdocs/import-vhd-image-lvm/">匯入 VHD 映像檔，以對其根目錄使用 Linux 磁區管理</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/openstack/userdocs/OpenStack_network_concepts/">OpenStack 網路概念</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/openstack/userdocs/Creating-an-Instance-with-a-Specific-Fixed-IP/">使用特定的固定 IP 建立執行實例</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/openstack/userdocs/Mitaka_CLI_notes/">OpenStack Mitaka CLI 注意事項</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/openstack/userdocs/Why-Choose-OpenStack/">為什麼選擇 OpenStack？</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/openstack/userdocs/openstack-storage-concepts/">OpenStack 儲存空間概念</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/openstack/userdocs/Ursula_and_OpenStack/">Ursula 與 OpenStack</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/openstack/userdocs/Creating_Instances_With_Static_IP/">如何使用靜態 IP 建立執行實例</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/openstack/userdocs/quotas/">配額</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/openstack/userdocs/How_to_Isolate_Tenants/">如何隔離租戶（專案）</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/openstack/userdocs/external-reference-material/">外部參照資料</a>
          </li>
          
        
        <li><a href="" class="page-link view">View More ( 3 )</a></li>
      </ul>

      <ul  class="article__list slide-up-hidden" >
        <h5 class="sub__head">API</h5>
        
        
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/openstack/api/floating-ip-address/">使用 OpenStack API 建立浮動 IP 位址</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/openstack/api/openstack-api-getting-started/">開始使用 OpenStack API</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/openstack/api/OpenStack_Client_Versions/">OpenStack 用戶端版本的需求</a>
              </li>
            
          
        
        <li><a href="" class="page-link view">View More ( 1 )</a></li>
      </ul>
    </li>




    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/zh_TW/horizon">Horizon [GUI] (10)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/zh_TW/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/horizon/creating-additional-networks-with-horizon/">使用 Horizon 畫面在 OpenStack 中建立其他網路</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/horizon/Making_Snapshots_in_Horizon/">對 Snapshot 使用 Horizon</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/horizon/allocate-floating-ip/">配置公用（浮動）IP  並將其附加至執行實例</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/horizon/create-volume-from-horizon/">從 Horizon 儀表板建立磁區</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/horizon/horizon-for-administrators/">管理者適用的 Horizon</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/horizon/launch-instance-from-horizon/">從 Horizon 儀表板啟動執行實例</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/horizon/launch-instance-from-horizon_newton/">從 Horizon 儀表板啟動執行實例（OpenStack Newton 版本）</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/horizon/set-reverse-dns/">如何設定 IBM Bluemix Private Cloud 執行實例的反向 DNS (PTR) 記錄？</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/horizon/using-horizon/">使用 Horizon</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/horizon/Horizon_troubleshooting_FAQ/">Horizon 疑難排解常見問題</a>
          </li>
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/zh_TW/nova">Nova [Compute] (13)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/zh_TW/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/nova/windows-user-and-password/">如何在 Windows 執行實例中以 OpenStack 設定起始使用者名稱和密碼？</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/nova/nova_live_migration/">Instance Live Migration</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/nova/CLI-create-public-instance/">如何使用指令行建立執行實例並使它可公開使用</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/nova/Nova_boot_speed/">當我啟動虛擬機器時幕後發生什麼情況，以及如何使它啟動更快速？</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/nova/Restrict_Floating_IP/">如何限制浮動 IP？</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/nova/config_drive_for_instances/">如何建立執行實例，並使用配置磁碟機為它新增檔案？</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/nova/create-vm-with-volumes/">如何使用 Nova 指令行用戶端建立執行實例？</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/nova/define-flavor-vcpu/">如何定義虛擬硬體範本 vCPU 拓蹼？</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/nova/deploy-to-specific-hypervisor/">How to deploy an instance to a specific hypervisor node</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/nova/maximum-flavor-spec/">我可以為虛擬硬體範本設定的最大規格為何？</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/nova/migrate-instance/">將執行實例移轉至新的雲端</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/nova/Metadata_service_FAQ/">OpenStack Neutron 和 Nova 中的 Meta 資料服務</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/nova/hypervisor-statistics/">如何取得 Hypervisor 統計資料？</a>
          </li>
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/zh_TW/neutron">Neutron [Networking] (22)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/zh_TW/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/network_ip_availability/">如何檢查我的網路 IP 可用性？</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/isolatetwoprojectnetworksconnectedtoonesharedrouter/">如何隔離已連接到共用路由器的專案網路？</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/time-ip-associated-with-instance/">如何得知浮動 IP 與執行實例產生關聯或取消關聯的時間？</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/Load_Balancing_Methods/">負載平衡方法</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/Multi-tier_Router_Configuration/">IBM Bluemix Private Cloud 內的多層路由器配置</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/set-up-dns-records/">如何設定指向 OpenStack 執行實例的 DNS 記錄？</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/routing_internal_traffic_between_projects/">在專案之間遞送內部資料流量</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/add-ip-to-instance/">新增特定的固定專用 IP 至執行實例</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/configure-dns.for-instances/">為執行實例配置 DNS</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/configure-multi-nics/">為您自己的雲端映像檔配置多個網路介面</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/configure-ha-ip/">如何配置高可用性 IP</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/creating-virtual-networks/">在 IBM Bluemix Private Cloud 上建立虛擬網路</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/when_create_port_fails/">When creating port failed, how could I do ?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/How_Can_I_See_My_IPs/">如何查看我的 IP？</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/How_to_update_DNS/">如何更新 DNS？</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/vpn-vlan-directlink/">VPN、VLAN 和直接鏈結</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/BYOFIP_support/">在 IBM Bluemix Private Cloud 與客戶網站之間使用 BYOFIP 連線功能</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/Intro_to_LBaaS/">負載平衡器即服務 (LBaaS) 的簡介</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/Security_groups_CLI/">使用 CLI 來設定安全群組</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/Network_Use_Cases_White_Paper/">IBM Blue Box 網路使用案例</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/neutron/Where_Are_These_IPs/">前兩個 IP 在何處？</a>
              </li>
            
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/zh_TW/glance">Glance [Images] (6)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/zh_TW/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/glance/FAQ_Working_with_Windows_Images/">使用 Windows 映像檔的常見問題</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/glance/compatible-glance-images/">是否有官方的 OpenStack 相容映像檔清單可供我下載用於 Glance？（CentOS、Ubuntu 等等）</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/glance/disk-capacity-constraints/">磁碟容量限制</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/glance/Image_Properties_on_Power/">Power 計算節點上的 Glance 映像檔的最佳設定</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/glance/imagesnapshot/">映像檔與 Snapshot 之間的差異</a>
              </li>
            
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/zh_TW/cinder">Cinder [Block Storage] (13)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/zh_TW/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/cinder/read-only-cinder-error/">是什麼造成唯讀 Cinder 磁區，我要如何修正它們？</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/cinder/cinder-volume-stuck/">Cinder 磁區停滯</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/cinder/alternative_method_for_volume_encryption/">區塊儲存空間磁區加密的替代方法（使用 Ubuntu 訪客 VM）</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/cinder/Bug_Creating_Encrypted_Volumes/">不支援使用 Cinder 建立加密磁區</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/cinder/Managing_block_storage/">管理區塊儲存空間</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/cinder/cli-create-volume/">使用指令行建立磁區</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/cinder/create-volume-from-snapshot/">是否支援透過執行實例 Snapshot 建立磁區？</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/cinder/resize_cinder_volume/">我要如何調整 Cinder 磁區的大小？</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/cinder/supported_volume_types/">在雲端執行實例中支援哪些 Cinder 磁區類型？</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/cinder/Ephemeral_to_Cinder/">如何從暫時磁碟移至 Cinder 儲存空間</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/cinder/volume_clone/">Can I enable volume full clone more than copy-on-write clone?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/cinder/Force_snapshot_on_attached_volume/">如何對連接的磁區強制執行 Snapshot</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/cinder/cinder-failed-connection-error/">如果 Cinder 用戶端傳回「錯誤：無法建立連線」訊息且無法連接，我該怎麼做？</a>
              </li>
            
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/zh_TW/keystone">Keystone [Identity] (8)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/zh_TW/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/keystone/oidc-federation/">IBM Bluemix Private Cloud 上的 OpenID Connect 聯合</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/keystone/saml-federation/">IBM Bluemix Private Cloud 上的 Keystone SAML 聯合</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/keystone/RBAC_Definitions/">角色型存取控制</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/keystone/Managing_Users_and_Projects/">管理使用者和專案</a>
              </li>
            
          
        
          
            
            <li>
                <a class="page-link--active"  href="/tyying/help-documentation-staging-area/zh_TW/keystone/k2k-federation/">IBM Bluemix Private Cloud 上的 Keystone 對 Keystone (K2K) 聯合</a>
            </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/keystone/tenants-security-groups-keystone/">專案與安全群組</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/keystone/custom-domains-keystone/">Keystone 第 3 版內的自訂網域</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/keystone/Getting_Started_with_K2K_Identity/">開始使用 Keystone 聯合識別</a>
          </li>
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/zh_TW/heat">Heat [Orchestration] (7)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/zh_TW/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/heat/Getting_Started_With_Heat/">開始使用 Heat 範本</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/heat/autoscaling-with-heat/">使用 Heat 進行自動調整</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/heat/Deploying_apps_with_UCD/">使用 IBM UrbanCode Deploy 和 IBM Bluemix Private Cloud 來部署應用程式</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/heat/using_heat_for_load_balancer/">使用 Heat 以佈建具有負載平衡器的伺服器</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/heat/using-ucd-ucdp/">搭配使用 IBM Urban Code Deploy 與 IBM Bluemix Private Cloud</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/heat/using_heat_for_deployment/">使用 Heat 與自簽憑證</a>
              </li>
            
          
        
      </ul>
    </li>


    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/zh_TW/ceilometer">Ceilometer [Telemetry] (1)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/zh_TW/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/zh_TW/ceilometer/compatible-glance-images/">是否支援透過執行實例 Snapshot 建立磁區？</a>
              </li>
            
          
        
      </ul>
    </li>

  </ul>
</div>


<article>

  <div class="page-container">

    <div class="main-content">
      <header class="post-header">

        <h1 class="post-title">
        

        

        IBM Bluemix Private Cloud 上的 Keystone 對 Keystone (K2K) 聯合

        
        </h1>




        
        <div class="post-data">
          <img src='/tyying/help-documentation-staging-area/img/zh_TW/avatar.png' />
          <ul class="author--info">
            <li>
              <span class="author">by Elvin Tubillara </span>
              <span class="dot">&#9679;</span>
              <span class="date"> June 24th, 2016</span>
            </li>
            <li>
              <span class="job-title"></span>
            </li>
            <li class="tags">
              
                <h4>Tags:</h4>
                  <ul class="tag--list">
                  
                    <li class="tag"><p>federation</p></li>
                  
                    <li class="tag"><p>聯合</p></li>
                  
                    <li class="tag"><p>keystone</p></li>
                  
                    <li class="tag"><p>k2k</p></li>
                  
                  </ul>
              
            </li>
          </ul>
        </div>
        
      </header>

      <div class="post-content">
        <ul>
  <li><a href="#what_is_k2k?">何謂 K2K 聯合？</a></li>
  <li><a href="#managing_groups">管理群組</a></li>
  <li><a href="#managing_mappings">管理對映</a></li>
  <li><a href="#using_horizon">使用 Horizon</a></li>
  <li><a href="#using_the_python_api_libraries">使用 Python API 檔案庫</a></li>
  <li><a href="#more_mappings_and_groups">其他對映和群組</a></li>
</ul>

<h2 id="何謂-k2k-聯合">何謂 K2K 聯合？</h2>
<p>Keystone 對 Keystone (K2K) 聯合是一種可使用某一 Keystone 執行實例中的認證來登入多個 IBM Bluemix Private Cloud 執行實例的方式。某個 Bluemix Private Cloud 執行實例會被指定為「身分提供者」，而另一個雲端執行實例則被指定為「服務提供者」。「身分提供者」會儲存使用者認證，並向「服務提供者」主張該使用者確實是有效使用者。該使用者的 ID 和密碼絕不會傳送給「服務提供者」，只會傳送「身分提供者」所提供的主張。</p>

<h2 id="k2k-如何運作">K2K 如何運作？</h2>
<p>使用者登入「身分提供者」，接收「身分提供者」所提供的已簽署 SAML 主張，然後使用該 SAML 主張向「服務提供者」執行鑑別。處理 SAML 流程的登入程序是由 K2K 鑑別外掛程式（位於 <code class="highlighter-rouge">keystoneauth1</code>）處理。只有「身分提供者」才能管理認證，而「服務提供者」則透過主張接受認證。</p>

<p>如果數個 Bluemix Private Cloud 均已設定 K2K 功能，則某個雲端執行實例會被指定為「身分提供者」，而其他執行實例則被指定為「服務提供者」。「服務提供者」使用對映，從「身分提供者」中選取使用者屬性，然後利用這些屬性來對映至本端群組。使用者使用 K2K 聯合登入之後，即會將指派給群組的角色授與使用者。</p>

<p>依預設，會針對「身分提供者」上的 <code class="highlighter-rouge">cloud_admin</code> 認證建立稱為 <code class="highlighter-rouge">mapping-for-k2k-federation</code> 的對映，藉由此對映，認證會對映至稱為 <code class="highlighter-rouge">cloud_admin</code> 的本端群組。此群組具有示範專案的 <code class="highlighter-rouge">cloud_admin</code> 角色存取權。</p>

<p>設定 K2K 聯合的流程如下：</p>

<p><strong>1. 首先，管理「服務提供者」上的群組（聯合使用者的存取權與群組相同）</strong></p>

<p><strong>2. 接著，管理「服務提供者」上的對映（將遠端「身分提供者」使用者對映至本端服務提供者群組）</strong></p>

<h2 id="管理群組">管理群組</h2>

<p>「K2K 聯合」的運作方式：將「身分提供者」使用者聯合成「服務提供者」上的一個群組。將專案中的角色指派給該群組，藉以授與該群組存取權。可用的角色如下：</p>

<ul>
  <li><code class="highlighter-rouge">project_admin</code> - 專案的 <code class="highlighter-rouge">admin</code> 角色。</li>
  <li><code class="highlighter-rouge">cloud_admin</code> - 雲端執行實例的 <code class="highlighter-rouge">admin</code> 角色。</li>
  <li><code class="highlighter-rouge">_member_</code> - 專案的成員。</li>
  <li><code class="highlighter-rouge">heat_stack_owner</code> - Heat 堆疊的擁有者。</li>
</ul>

<p>若要使用群組指令，則需要認證原始檔。您必須建立含有這些認證的檔案，然後將角括弧 <code class="highlighter-rouge">&lt; &gt;</code> 中所顯示的標籤取代為適當的資訊：</p>

<div class="highlighter-rouge"><pre class="highlight"><code># 此檔案是 cloud_adminrc
export OS_IDENTITY_API_VERSION=3
export OS_PASSWORD=&lt;cloud_admin password&gt; # 變更此值
export OS_AUTH_URL=https://&lt;service provider fqdn&gt;:5000/v3
export OS_USERNAME=cloud_admin
export OS_TENANT_NAME=demo
export OS_CACERT=/opt/stack/ssl/openstack.crt
export OS_NO_CACHE=True
</code></pre>
</div>

<p>建立認證原始檔之後，即可取用此檔案並使用下面任一 OpenStack 指令來管理群組和角色。<strong>附註：這些指令是在「服務提供者」上執行。</strong></p>

<p><strong>將認證取用到環境</strong>：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ source cloud_adminrc
</code></pre>
</div>

<p><strong>若要列出群組</strong>，請執行下列指令：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ openstack group list
</code></pre>
</div>

<p><strong>若要建立群組</strong>，請執行下列指令：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ openstack group create --help
$ openstack group create &lt;new group name here&gt;
</code></pre>
</div>

<p><strong>若要列出角色</strong>，請執行下列指令：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ openstack role list
</code></pre>
</div>

<p><strong>若要列出角色指派</strong>，請執行下列指令：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ openstack role assignment list --name
</code></pre>
</div>

<p><strong>若要列出專案</strong>，請執行下列指令：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ openstack project list
</code></pre>
</div>

<p><strong>若在查看新增角色指派時需要說明</strong>，請執行下列指令：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ openstack role add --help
</code></pre>
</div>

<p><strong>若要新增群組的角色指派以取得專案中的某一角色</strong>，請執行下列指令：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ openstack role  add &lt;role&gt; --project &lt;project&gt; --group &lt;group&gt;
</code></pre>
</div>

<p>聯合使用者會對映至「服務提供者」的群組。依預設，如果啟用 K2K 聯合，則會有一個稱為 <code class="highlighter-rouge">cloud_admin</code> 的群組。此群組具有 “demo” 專案的 <code class="highlighter-rouge">cloud_admin</code> 角色。</p>

<p>以下是授與群組存取權的作業順序：</p>
<ol>
  <li>首先，建立或編輯群組。</li>
  <li>接著，建立或編輯專案中群組的角色指派。</li>
</ol>

<p><strong>範例 1.</strong> 建立 <code class="highlighter-rouge">cloud_admin</code> 群組。</p>

<p>下列指令顯示如何取用含有服務提供者 <code class="highlighter-rouge">cloud_admin</code> 使用者鑑別資訊的檔案。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ source cloud_adminrc
$ openstack group list
$ openstack group create cloud_admin --or-show
$ openstack role assignment list --name --group cloud_admin
</code></pre>
</div>

<p>接著，建立角色指派（如果尚未存在的話）。
<strong>這些指令會新增 “demo” 專案中群組 <code class="highlighter-rouge">cloud_admin</code> 的 <code class="highlighter-rouge">cloud_admin</code> 角色。</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ openstack role add cloud_admin --group cloud_admin --project demo
$ openstack role assignment list --name --group cloud_admin
</code></pre>
</div>
<p>執行 <code class="highlighter-rouge">openstack role assignment list</code> 指令之後，您應該會看到類似下面內容的輸出：</p>

<div class="highlighter-rouge"><pre class="highlight"><code># +-------------+------+---------------------+--------------+--------+-----------+
# | Role        | User | Group               | Project      | Domain | Inherited |
# +-------------+------+---------------------+--------------+--------+-----------+
# | cloud_admin |      | cloud_admin@Default | demo@Default |        | False     |
# +-------------+------+---------------------+--------------+--------+-----------+
</code></pre>
</div>

<p><strong>範例 2.</strong> 建立具有成員存取權的群組。</p>

<p>下列指令顯示如何取用含有服務提供者 <code class="highlighter-rouge">cloud_admin</code> 使用者鑑別資訊的檔案。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ source cloud_adminrc
$ openstack group list
$ openstack group create demo_member_group --or-show
$ openstack role assignment list --name --group demo_member_group
$ openstack role add _member_ --group demo_member_group --project demo
$ openstack role assignment list --name --group demo_member_group
</code></pre>
</div>

<p>輸入 <code class="highlighter-rouge">openstack role assignment list</code> 指令之後，您應該會看到類似下面內容的輸出：</p>

<div class="highlighter-rouge"><pre class="highlight"><code># +----------+------+---------------------------+--------------+--------+-----------+
# | Role     | User | Group                     | Project      | Domain | Inherited |
# +----------+------+---------------------------+--------------+--------+-----------+
# | _member_ |      | demo_member_group@Default | demo@Default |        | False     |
# +----------+------+---------------------------+--------------+--------+-----------+
</code></pre>
</div>

<h2 id="管理對映"><a name="managing_mappings"></a>管理對映</h2>
<p>「服務提供者」中的 <code class="highlighter-rouge">cloud_admin</code> 使用者有權讀取及設定 K2K 聯合的對映。請注意，「服務提供者」使用者 <code class="highlighter-rouge">cloud_admin</code> <em>不能</em> 刪除現有的對映或建立新的對映。</p>

<p>若要使用對映指令，則需要第 3 版的認證原始檔。您將建立含有這些認證的檔案，然後將角括弧 <code class="highlighter-rouge">&lt; &gt;</code> 中的標籤取代為適當的資訊：</p>

<p>如需管理對映的相關資訊，請參閱 OpenStack 說明文件：
http://docs.openstack.org/developer/keystone/mapping_combinations.html
http://docs.openstack.org/developer/keystone/federation/federated_identity.html#mapping-combinations</p>

<p>當使用者利用其「身分提供者」帳戶，透過 K2K 聯合登入「服務提供者」時，即會在「服務提供者」的本端環境中建立一個使用者帳戶。<strong>請注意，在聯合期間建立使用者帳戶的是暫時使用者帳戶。稍後即會在沒有警告的情況下刪除。</strong></p>

<p>在預設對映中，「身分提供者」使用者中的 <code class="highlighter-rouge">cloud_admin</code> 是聯合使用者，所以會在聯合網域中建立一個本端 <code class="highlighter-rouge">cloud_admin</code> 使用者。此使用者與「預設」網域中的 <code class="highlighter-rouge">cloud_admin</code> 使用者不同。聯合網域中的暫時 <code class="highlighter-rouge">cloud_admin</code> 使用者會在日後刪除。</p>

<p>我們需要有在前一節中建立的原始檔，才能執行下列對映指令：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ source cloud_adminrc
$ openstack mapping list
$ openstack mapping show mapping-for-k2k-federation
$ openstack mapping show mapping-for-k2k-federation --format json
$ openstack mapping show --help
$ openstack mapping set mapping-for-k2k-federation --rules &lt;mappings file&gt;
</code></pre>
</div>

<p><code class="highlighter-rouge">openstack mapping list</code> 指令顯示對映清單。它應顯示 <code class="highlighter-rouge">mapping-for-k2k-federation</code> 對映。</p>

<p><code class="highlighter-rouge">openstack mapping show mapping-for-k2k-federation</code> 指令顯示給定對映的詳細資料。它應包含對映規則的 <code class="highlighter-rouge">json</code> 清單。</p>

<p><code class="highlighter-rouge">openstack mapping set mapping-for-k2k-federation --rules newmappings.json</code> 指令顯示如何更新及設定 <code class="highlighter-rouge">mapping-for-k2k-federation</code> 對映。</p>

<p>對映檔應遵循以下給定的格式：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[
   {
      "local": [
        &lt;group&gt;
      ],
      "remote": [
        &lt;condition&gt;
      ]
   }
]
</code></pre>
</div>

<p><strong>規則檔</strong>應包含將遠端使用者對映到「服務提供者」上現有群組的規則清單。本端區段所含的規則可指定遠端使用者應對映的群組。<strong>需要有本端群組規則。</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cloud_admin"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>遠端區段所含的規則可指定應容許哪些遠端使用者進行存取。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"openstack_user"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"any_one_of"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"cloud_admin"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>可以在遠端規則中給定的可能使用者屬性類型如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>openstack_user
openstack_user_domain
openstack_roles
openstack_project
openstack_project_domain
</code></pre>
</div>

<p>用來過濾遠端屬性的可能動作如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>empty
any_ony_of
not_any_of
blacklist
whitelist
</code></pre>
</div>

<p>若要設定使用者名稱，可以在本端區段中使用 <strong>{0}</strong> 以表示使用遠端區段中的欄位。然後，我們可以新增其他資訊至新的聯合使用者名稱。<strong>在 K2K 聯合中，請務必新增一些資訊來表示您正在使用哪一個雲端</strong>。我們可以藉由索引（”{i}”，其中 i 是遠端欄位的索引），在本端區段中參照遠端區段：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[
  {
    "local": [
      {
        "user": {
          "name": "my_cloud/{0}"
        }
      },
               ...
    ],
    "remote": [
      {
        "type": "openstack_user"
      },
               ...
    ]
  }
]
</code></pre>
</div>

<p>以下是一些範例實務練習：</p>

<p><strong>範例 1.</strong> 將 <code class="highlighter-rouge">cloud_admin</code> 使用者對映至 <code class="highlighter-rouge">cloud_admin</code> 群組，並在聯合網域中將使用者名稱設為 <code class="highlighter-rouge">my_cloud/cloud_admin</code>。這是預設對映檔：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[
  {
    "local": [
      {
        "user": {
          "name": "my_cloud/{0}"
        }
      },
      {
        "group": {
          "domain": {
            "name": "Default"
          },
          "name": "cloud_admin"
        }
      }
    ],
    "remote": [
      {
        "type": "openstack_user"
      },
      {
        "type": "openstack_user",
        "any_one_of": [
          "cloud_admin"
        ]
      }
    ]
  }
]
</code></pre>
</div>

<p><strong>範例 2.</strong> 成員對映</p>

<p>此範例會將「身分提供者」上具有 “demo” 專案之 <code class="highlighter-rouge">_member_</code> 角色的使用者對映到「服務提供者」上的群組（群組範例 2 中的 <code class="highlighter-rouge">demo_member_group</code>）。我們假設 <code class="highlighter-rouge">demo_member_group</code> 是「服務提供者」上的群組，具有「服務提供者」中 “demo” 專案的 <code class="highlighter-rouge">_member_</code> 角色。</p>

<p>我們要執行一系列的 bash 指令，將下列字串 <code class="highlighter-rouge">cat</code> 成檔案，然後設定對映。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ cat &lt;&lt;EOF &gt; federated_member_mapping.json
[
  {
    "local": [
      {
        "user": {
          "name": "my_cloud/{0}"
        }
      },
      {
        "group": {
          "domain": {
            "name": "Default"
          },
          "name": "demo_member_group"
        }
      }
    ],
    "remote": [
      {
        "type": "openstack_user"
      },
      {
        "type": "openstack_project",
        "any_one_of": [
          "demo"
        ]
      },
      {
        "type": "openstack_roles",
        "any_one_of": [
          "_member_"
        ]
      }
    ]
  }
]
EOF
$ openstack mapping set mapping-for-k2k-federation --rules federated_member_mapping.json
</code></pre>
</div>

<p><strong>範例 3.</strong> 多個規則</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[
  {
    "local": [
      {
        "user": {
          "name": "my_cloud/{0}"
        }
      },
      {
        "group": {
          "domain": {
            "name": "Default"
          },
          "name": "cloud_admin"
        }
      }
    ],
    "remote": [
      {
        "type": "openstack_user"
      },
      {
        "type": "openstack_user",
        "any_one_of": [
          "cloud_admin"
        ]
      }
    ]
  },
  {
    "local": [
      {
        "user": {
          "name": "my_cloud/{0}"
        }
      },
      {
        "group": {
          "domain": {
            "name": "Default"
          },
          "name": "demo_member_group"
        }
      }
    ],
    "remote": [
      {
        "type": "openstack_user"
      },
      {
        "type": "openstack_project",
        "any_one_of": [
          "demo"
        ]
      },
      {
        "type": "openstack_roles",
        "any_one_of": [
          "_member_"
        ]
      }
    ]
  }
]
</code></pre>
</div>

<h2 id="使用-horizon"><a name="using_horizon"></a>使用 Horizon</h2>
<p>「身分提供者」上的 OpenStack 儀表板應有標籤為<strong>使用 Keystone 對 Keystone 聯合進行鑑別</strong>的下拉功能表。</p>

<ul>
  <li>如果選取<strong>身分提供者</strong>選項，則不會使用聯合。使用者將登入「身分提供者」OpenStack 雲端。</li>
  <li>如果選取<strong>服務提供者</strong>選項，則會使用聯合。「身分提供者」使用者認證將聯合至「服務提供者」。</li>
  <li>若要切換不同的提供者，使用者必須登出，然後重新選取提供者。</li>
</ul>

<p><strong>請注意：</strong>在 IBM Bluemix Private Cloud 3.0.0 中用於 K2K 的 Horizon 登入畫面不是標準的 OpenStack 功能。可能會在未來的版本中變更。</p>

<p><img src="/tyying/help-documentation-staging-area/img/zh_TW/k2k_auth.png" alt="Bluemix Private Cloud 的 Horizon 登入畫面" /></p>

<h2 id="使用-python-api-檔案庫"><a name="using_the_python_api_libraries"></a>使用 Python API 檔案庫</h2>

<p>接下來，您將建立一個原始檔，以便在使用 K2K 鑑別外掛程式進行鑑別時使用。記號 <code class="highlighter-rouge">OS_SERVICE_PROVIDER</code> 參照「服務提供者」ID，您可以對「身分提供者」執行下列指令來取得該 ID：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ openstack server provider list
</code></pre>
</div>

<p>我們可以在此建立一個原始檔，Python Script 將使用該檔案及「身分提供者 (IDP)」的 <code class="highlighter-rouge">cloud_admin</code> 認證，列出「服務提供者 (SP)」中的執行實例。</p>

<p>此原始檔 (federationrc) 含有登入 <strong>IDP</strong> 的鑑別認證，以及 <strong>SP</strong> 目標資訊。</p>

<div class="highlighter-rouge"><pre class="highlight"><code># 此檔案是 federationrc
export OS_USERNAME=cloud_admin
export OS_PASSWORD=&lt;cloud admin password&gt;
export OS_AUTH_URL=https://k2kf-idp.open-test.ibmcloud.com:5000/v3
export OS_PROJECT_NAME=demo
export OS_DOMAIN_NAME=Default
export OS_SERVICE_PROVIDER=&lt;service provider id&gt;
</code></pre>
</div>

<p>您可以對「身分提供者」執行下列指令，以查看「服務提供者」清單：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ openstack service provider list
</code></pre>
</div>

<p>下列程式碼使用 Keystone 對 Keystone <code class="highlighter-rouge">auth</code> 外掛程式來取得不限範圍的記號。這個不限範圍的記號是用來取得限定範圍的記號，而後者的範圍會限定於聯合使用者有權存取的其中一個專案。取得限定範圍的記號之後，就可以列出「服務提供者」上的伺服器執行實例。</p>

<p>建立稱為 list_servers.py 的檔案：</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c">#!/usr/bin/python
</span>

from keystoneauth1 import session
from keystoneauth1.identity.v3 import Token
from keystoneauth1.identity.v3.k2k import Keystone2Keystone
from keystoneauth1.identity.v3.password import Password
from keystoneclient.v3.client import Client

from novaclient import client
import os

<span class="c"># 取用檔案以取得這些變數
</span>
OS_AUTH_URL <span class="o">=</span> os.environ.get<span class="o">(</span><span class="s1">'OS_AUTH_URL'</span><span class="o">)</span>
OS_USERNAME <span class="o">=</span> os.environ.get<span class="o">(</span><span class="s1">'OS_USERNAME'</span><span class="o">)</span>
OS_PASSWORD <span class="o">=</span> os.environ.get<span class="o">(</span><span class="s1">'OS_PASSWORD'</span><span class="o">)</span>
OS_PROJECT_NAME <span class="o">=</span> os.environ.get<span class="o">(</span><span class="s1">'OS_PROJECT_NAME'</span><span class="o">)</span>
OS_DOMAIN_NAME <span class="o">=</span> os.environ.get<span class="o">(</span><span class="s1">'OS_DOMAIN_NAME'</span><span class="o">)</span>
OS_SERVICE_PROVIDER <span class="o">=</span> os.environ.get<span class="o">(</span><span class="s1">'OS_SERVICE_PROVIDER'</span><span class="o">)</span>


def get_project_and_federated_session<span class="o">()</span>:
    <span class="c"># 向 IDP 進行鑑別
</span>
    idp_auth <span class="o">=</span> Password<span class="o">(</span><span class="nv">auth_url</span><span class="o">=</span>OS_AUTH_URL,
                        <span class="nv">username</span><span class="o">=</span>OS_USERNAME,
                        <span class="nv">password</span><span class="o">=</span>OS_PASSWORD,
                        <span class="nv">user_domain_name</span><span class="o">=</span>OS_DOMAIN_NAME,
                        <span class="nv">project_name</span><span class="o">=</span>OS_PROJECT_NAME,
                        <span class="nv">project_domain_name</span><span class="o">=</span>OS_DOMAIN_NAME<span class="o">)</span>

    <span class="c"># 使用 K2K 鑑別外掛程式取得不限範圍的鑑別
</span>
    unscoped_auth <span class="o">=</span> Keystone2Keystone<span class="o">(</span><span class="nv">base_plugin</span><span class="o">=</span>idp_auth,
                                      <span class="nv">service_provider</span><span class="o">=</span>OS_SERVICE_PROVIDER<span class="o">)</span>

    <span class="c"># 取得第一個可用的專案和限定範圍的鑑別
</span>
    sess <span class="o">=</span> session.Session<span class="o">()</span>
    unscoped_access_info <span class="o">=</span> unscoped_auth.get_access<span class="o">(</span>sess<span class="o">)</span>
    unscoped_client <span class="o">=</span> Client<span class="o">(</span><span class="nv">session</span><span class="o">=</span>sess, <span class="nv">auth</span><span class="o">=</span>unscoped_auth<span class="o">)</span>

    <span class="c"># 取得第一個專案
</span>
    projects <span class="o">=</span> unscoped_client.federation.projects.list<span class="o">()</span>
    project <span class="o">=</span> projects[0]

    <span class="c"># 使用專案限定範圍的記號建立階段作業
</span>
    unscoped_token <span class="o">=</span> unscoped_access_info.auth_token
    scoped_token <span class="o">=</span> Token<span class="o">(</span><span class="nv">auth_url</span><span class="o">=</span>unscoped_auth.auth_url,
                         <span class="nv">token</span><span class="o">=</span>unscoped_token,
                         <span class="nv">project_id</span><span class="o">=</span>project.id,
                         <span class="nv">reauthenticate</span><span class="o">=</span>False<span class="o">)</span>
    federated_session <span class="o">=</span> session.Session<span class="o">(</span><span class="nv">auth</span><span class="o">=</span>scoped_token<span class="o">)</span>
    <span class="k">return </span>project, federated_session


def main<span class="o">()</span>:
    project, scoped_session <span class="o">=</span> get_project_and_federated_session<span class="o">()</span>
    nova <span class="o">=</span> client.Client<span class="o">(</span><span class="nv">version</span><span class="o">=</span>2, <span class="nv">session</span><span class="o">=</span>scoped_session<span class="o">)</span>
    print <span class="s2">"The servers running on project %s are: "</span> % project.name
    <span class="k">for </span>server <span class="k">in </span>nova.servers.list<span class="o">()</span>:
        print server.name

<span class="k">if</span> <span class="k">**</span>name<span class="k">**</span> <span class="o">==</span> <span class="s1">'**main**'</span>:
    main<span class="o">()</span></code></pre></figure>

<p>執行下列指令以執行 Python Script：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ source federationrc
$ chmod 700 list_servers.py
$ ./list_servers.py
</code></pre>
</div>

<h2 id="其他對映和群組"><a name="more_mappings_and_groups"></a>其他對映和群組</h2>
<p><strong>範例 1.</strong> Heat 使用者</p>

<p>目前，Keystone 中的聯合使用者及委託人/受託人功能有問題，造成聯合 Heat 使用者無法委派其 <code class="highlighter-rouge">heat_stack_owner</code> 角色。</p>

<p><strong>建立 Heat 聯合群組</strong></p>

<p>取用含有服務提供者 <code class="highlighter-rouge">cloud_admin</code> 使用者鑑別資訊的檔案：<code class="highlighter-rouge">source cloud_adminrc</code></p>

<p>我們在此使用角色 <code class="highlighter-rouge">heat_stack_owner</code>，而非 <code class="highlighter-rouge">heat_stack_user</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ openstack group list
$ openstack group create heat_stack_owner_group --or-show
$ openstack role assignment list --name --group heat_stack_owner_group
$ openstack role add heat_stack_owner --group heat_stack_owner_group --project demo
$ openstack role assignment list --name --group heat_stack_owner_group
# +------------------+------+--------------------------------+--------------+--------+-----------+
# | Role             | User | Group                          | Project      | Domain | Inherited |
# +------------------+------+--------------------------------+--------------+--------+-----------+
# | heat_stack_owner |      | heat_stack_owner_group@Default | demo@Default |        | False     |
# +------------------+------+--------------------------------+--------------+--------+-----------+
</code></pre>
</div>

<p><strong>建立 Heat 聯合對映</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ cat &lt;&lt;EOF &gt; federated_heat_stack_owner_mapping.json
[
  {
    "local": [
      {
        "user": {
          "name": my_cloud/"{0}"
        }
      },
      {
        "group": {
          "domain": {
            "name": "Default"
          },
          "name": "heat_stack_owner_group"
        }
      }
    ],
    "remote": [
      {
        "type": "openstack_user"
      },
      {
        "type": "openstack_roles",
        "any_one_of": [
          "heat_stack_owner"
        ]
      }
    ]
  }
]
EOF
$ openstack mapping set mapping-for-k2k-federation --rules federated_heat_stack_owner_mapping.json
</code></pre>
</div>

<p>您必須將 <code class="highlighter-rouge">heat_stack_owner</code> 角色直接指派給使用者，以使用信任委派的暫行解決方法。
這是在聯合登入期間所建立的使用者。使用者的網域已聯合，所以其值會是 <strong>None</strong> (<code class="highlighter-rouge">Federation=None</code>)。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ openstack user list
</code></pre>
</div>
<p>聯合使用者的網域應為 None：<code class="highlighter-rouge">openstack user show &lt;federated user&gt;</code></p>

<p>我們在此需要使用者 ID：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ openstack role add heat_stack_owner --user &lt;federated user ID&gt; --project &lt;project&gt;
</code></pre>
</div>

<p>已知問題是在設定頁面中顯示的聯合使用者附有變更其密碼的選項。但使用者不能變更其密碼。</p>

      </div>
    </div>

  </div>
</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="footer__wrapper--light">

    <ul class="footer--nav">
      <li class="footer--nav__header">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud">Products</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="nav--item__link">Bluemix Private Cloud</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/private-cloud-local" class="nav--item__link">Private Cloud Local</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/private-cloud-contact-us" class="nav--item__link">Sales</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/private-cloud-faq" class="nav--item__link">FAQs</a>
      </li>
    
    </ul>

    <ul class="footer--nav">
      <li class="footer--nav__header">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud">Our Story</a>
      </li>
 <li class="footer--nav__item">
        <a href="https://github.com/blueboxgroup?cm_mc_uid=04946053248414876234663&cm_mc_sid_50200000=1489010497" class="nav--item__link">On GitHub</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://blueboxstatus.com/" class="nav--item__link">System Status</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://support.bluebox.net/" class="nav--item__link">Support</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://support.bluebox.net/" class="nav--item__link">Box Panel</a>
      </li>
    </ul>

    <ul class="footer--nav">
      <li class="footer--nav__header">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud">Resources
        </a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud">Case Studies</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="nav--item__link">Videos</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="nav--item__link">News</a>
      </li>
    </ul>

    <ul class="footer--nav">
      <li class="footer--nav__header">
        <a href="hhttps://www.ibm.com/blogs/bluemix/">Recent Blog Posts</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/blogs/bluemix/2016/07/the-power-of-openstack/" class="nav--item__link">The Power of OpenStack</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/blogs/bluemix/2016/08/blue-box-storage-models-explained/" class="nav--item__link">IBM Bluemix Private Cloud Storage Models</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.blueboxcloud.com/insight/blog-article/github-ibm-com-running-on-blue-box" class="nav--item__link">IBM Github Runs on Bluemix Private Cloud</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/blogs/bluemix/2016/10/building-up-to-openstack/" class="nav--item__link">Building up to OpenStack</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/blogs/bluemix/2016/07/keystone-to-keystone-federated-identity-on-blue-box-cloud/" class="nav--item__link">Get Started with Keystone Federation</a>
      </li>
    </ul>
  </div>
  <div class="footer__wrapper--dark">
    <ul class="footer--list">
      <li class="list--item">
        <a href="https://www.facebook.com/BlueBoxGroup/" class="list--item__link">Facebook</a>
      </li>
      <li class="list--item">
        <a href="https://twitter.com/bluebox?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor" class="list--item__link">Twitter</a>
      </li>
      <li class="list--item">
        <a href="https://www.linkedin.com/company/blue-box-group" class="list--item__link">LinkedIn</a>
      </li>
      <li class="list--item">
        <a href="https://plus.google.com/+BlueBoxSeattle/posts" class="list--item__link">Google +</a>
      </li>
      <li class="list--item">
        <a href="https://github.com/blueboxgroup" class="list--item__link">GitHub</a>
      </li>
    </ul>

    <ul class="footer--list">
      <li class="list--item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/private-cloud-contact-us" class="list--item__link">Contact</a>
      </li>
      <li class="list--item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="list--item__link">Legal</a>
      </li>
      <li class="list--item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="list--item__link">Privacy Policy</a>
      </li>
      <li class="list--item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="list--item__link">Terms and Conditions</a>
      </li>

    </ul>
  </div>
  <div class="footer__wrapper--black">
    <p>
        &copy; 2017 IBM Bluemix
    </p>
  </div>
</footer>



    <script src="/tyying/help-documentation-staging-area/js/vendor/simple-jekyll-search.js" type="text/javascript"></script>


    <script>
        SimpleJekyllSearch({
          searchInput: document.getElementById('search-input'),
          resultsContainer: document.getElementById('results-container'),
          json: '/tyying/help-documentation-staging-area/search.json',
          searchResultTemplate: '<li class="search-item"><a href="{url}" class="item-title">{title}</a><ul class="tag--list">{tags}</ul></li>'
        });
    </script>
  <script src="/tyying/help-documentation-staging-area/js/scripts.js"></script>

  </body>

</html>
