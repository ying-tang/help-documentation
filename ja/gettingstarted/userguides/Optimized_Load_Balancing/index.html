<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>クラウド基礎 -- 最適化されたロード・バランシング</title>
  <meta name="description" content="クラウド上でワークロードを実行していると、2 つ以上の仮想マシン (VM) ホスト間で負荷を分散したいことが多々あります。理由の 1 つは、例えば基幹業務データベース・アプリケーションを実行している場合など、冗長性のためであることが考えられます。あるいは、ワークロードを複数のマシンにわたって拡大し、より多くのクラ...">

  <link rel="stylesheet" href="/help-documentation/css/main.css">
  <link rel="canonical" href="/help-documentation/ja/gettingstarted/userguides/Optimized_Load_Balancing/">
  <link rel="alternate" type="application/rss+xml" title="Blue Box Help" href="/help-documentation/ja/feed.xml">
  
  <style>
   .site-header img:first-child {
       height: 72px;
}
</style>
  
</head>


  <body>

  
    <header class="site-header">

  <div class="header-wrapper">

    <a class="site-title" href="/help-documentation/ja/"><img src="/help-documentation/img/ja/Bluemix-logo-UI.svg" alt="" height="72px"></a>

    <div class="search--pageview">

  <div class="full-view__search hide">
    <a href="" class="x hide">X</a>
    <ul id="results-container"></ul>
    <ul class="results--container"></ul>

  </div>
  <div class="input-container">
    <label for="search__fullview" class="hide search--label">Search IBM Bluemix Private Cloud Help</label>
    <input type="text" id="search-input" placeholder="" name="search" class="search__minview--page">
    <img src="/help-documentation/img/ja/search.svg" class="search-icon" />
  </div>
</div>


    <a href="mailto:llundquist@us.ibm.com" class="header--request">
      <p>
        Submit A Request
      </p>
      <img src="/help-documentation/img/ja/user.svg">
    </a>
    <a id="nav-toggle" href="#"><span></span></a>

    <div>
  
    
      <a  href=" /help-documentation/gettingstarted/userguides/Optimized_Load_Balancing/ ">en</a> |
    
      <a  href=" /help-documentation/fr/gettingstarted/userguides/Optimized_Load_Balancing/ ">fr</a> |
    
      <a  href=" /help-documentation/de/gettingstarted/userguides/Optimized_Load_Balancing/ ">de</a> |
    
      <a style="font-weight: bold;" href=" /help-documentation/ja/gettingstarted/userguides/Optimized_Load_Balancing/ ">ja</a> |
    
      <a  href=" /help-documentation/zh_CN/gettingstarted/userguides/Optimized_Load_Balancing/ ">zh_CN</a> |
    
      <a  href=" /help-documentation/zh_TW/gettingstarted/userguides/Optimized_Load_Balancing/ ">zh_TW</a> |
    
      <a  href=" /help-documentation/pt_BR/gettingstarted/userguides/Optimized_Load_Balancing/ ">pt_BR</a> |
    
  
</div>

  </div>

</header>

  

  
  <div class="page-content">
  

      <div class="main-wrapper">
        
<div class="sidebar sidebar--toggled">
  <ul class="sidebar__nav">
    <li>
      <h3 class="title">
        
        
        
        <a  class="page-link"  href="/help-documentation/ja/gettingstarted">Getting Started (38)</a>
        <a href=""  class="expand rotate" ><img src="/help-documentation/img/ja/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        <h5 class="sub__head">Common Technical Questions</h5>
        
        
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/gettingstarted/commontech/connect-to-openvpn-server/">OpenVPN サーバーへの接続</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/gettingstarted/commontech/openvpn-setup/">インスタンスでの OpenVPN サーバーのセットアップ</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/gettingstarted/commontech/blue-box-cloud-components/">Bluemix Private Cloud コンポーネント</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/gettingstarted/commontech/detaching-volume/">ボリュームを切り離す前に何をすればよいですか?</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/gettingstarted/commontech/python-environment-primer/">python 仮想環境への取り組み: 開発者の手引き</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/gettingstarted/commontech/FAQ/">技術 FAQ</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/gettingstarted/commontech/Building_Blocks/">IBM Bluemix Private Cloud ビルディング・ブロック (Community Edition)</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/gettingstarted/commontech/RHOSP_Building_Blocks/">IBM Bluemix Private Cloud with Red Hat 用のビルディング・ブロック</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/gettingstarted/commontech/RHOSP_Product_Overview/">IBM Bluemix Private Cloud with Red Hat - 製品概要</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/gettingstarted/commontech/general_product_overview/">一般的な製品概要</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/gettingstarted/commontech/Instance_Resize/">インスタンスのサイズ変更 (非ライブ)</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/gettingstarted/commontech/Connecting_Clouds_with_SoftLayer/">プライベート・ネットワークの使用による複数のクラウド環境間でのネットワーク接続のセットアップ</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/gettingstarted/commontech/Windows_License_Activation/">Windows アクティベーションのためのお客様ガイド</a>
              </li>
            
          
        
        <li><a href="" class="page-link view">View More ( 7 )</a></li>
      </ul>
      
      <ul  class="article__list slide-up-hidden" >
        <h5 class="sub__head">Common Administrative Questions</h5>
        
        
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/gettingstarted/commonadmin/adding-removing-subscribers/">チケットへのサブスクライバーの追加または削除</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/gettingstarted/commonadmin/view-my-bill/">請求書を確認するにはどうすればよいですか?</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/gettingstarted/commonadmin/report-issue/">問題を報告するにはどうすればよいですか?</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/gettingstarted/commonadmin/escalating-a-ticket/">チケットをエスカレートするにはどうすればよいですか?</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/gettingstarted/commonadmin/status-pages/">Bluemix Private Cloud の状況ページ</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/gettingstarted/commonadmin/Transferring_A_Domain_From_Blue_Box/">Blue Box からのドメインの転送</a>
              </li>
            
          
        
        <li><a href="" class="page-link view">View More ( 2 )</a></li>
      </ul>
      
      <ul  class="article__list slide-up-hidden" >
        <h5 class="sub__head">User Guides</h5>
        
        
          
             
         
             
         
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/help-documentation/ja/gettingstarted/userguides/Box_Panel/">Box Panel ユーザー・ガイド</a>
                  </li>
              
             
         
             
                <li>
                <a class="page-link" href="/help-documentation/ja/gettingstarted/userguides/Eternal_Blue-ish_Triangle/">Box Panel、サイト・コントローラー、および IBM Bluemix Private Cloud Local</a>
                </li>
              
         
             
                <li>
                <a class="page-link" href="/help-documentation/ja/gettingstarted/userguides/qemu_article/">OpenStack の構築 — QEMU とクラウド</a>
                </li>
              
         
             
                <li>
                <a class="page-link" href="/help-documentation/ja/gettingstarted/userguides/Improving_Cloud_Performance/">OpenStack の構築 II -- クラウド・パフォーマンスの向上</a>
                </li>
              
         
             
                <li>
                <a class="page-link--active"  href="/help-documentation/ja/gettingstarted/userguides/Optimized_Load_Balancing/">クラウド基礎 -- 最適化されたロード・バランシング</a>
                </li>
              
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/help-documentation/ja/gettingstarted/userguides/Cloud_Images_Provided_RHOSP/">クラウド・イメージのユーザーズ・ガイド (IBM Bluemix Private Cloud with Red Hat)</a>
                  </li>
              
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/help-documentation/ja/gettingstarted/userguides/Cloud_Images_Provided_by_IBM/">クラウド・イメージのユーザーズ・ガイド (コミュニティー版)</a>
                  </li>
              
             
         
             
         
             
         
             
         
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/help-documentation/ja/gettingstarted/userguides/Image_Release_Notes/">IBM Bluemix Private Cloud イメージのリリース・ノート</a>
                  </li>
              
             
         
        <li><a href="" class="page-link view">View More ( 4 )</a></li>
      </ul>
      
      <ul  class="article__list slide-up-hidden" >
        <h5 class="sub__head">Release Notes</h5>
        
        
          
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/help-documentation/ja/releasenotes/Customer_3.0.1_Point_Release/">お客様向け 3.0.1 ポイントのリリース・ノート</a>
                  </li>
              
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/help-documentation/ja/releasenotes/Customer_3.1.1_Point_Release/">カスタマー 3.1.1 ポイントのリリース・ノート</a>
                  </li>
              
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/help-documentation/ja/releasenotes/Customer_4.0.0.0c_Release_Notes/">Release Notes 4.0.0.0c</a>
                  </li>
              
             
         
             
                <li>
                <a class="page-link" href="/help-documentation/ja/releasenotes/Customer_4.0.0.0r_Release_Notes/">リリース・ノート 4.0.0.0r</a>
                </li>
              
         
             
                <li>
                <a class="page-link" href="/help-documentation/ja/releasenotes/Customer_2.1.1_Point_Release/">リリース・ノート 2.1.1</a>
                </li>
              
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/help-documentation/ja/releasenotes/release_notes_2.1_for_customers/">リリース・ノート 2.1</a>
                  </li>
              
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/help-documentation/ja/releasenotes/Customer_3.0.0_Release_Notes/">リリース・ノート 3.0.0</a>
                  </li>
              
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/help-documentation/ja/releasenotes/Customer_3.1.0_Release_Notes/">リリース・ノート 3.1.0</a>
                  </li>
              
             
         
        <li><a href="" class="page-link view">View More ( 6 )</a></li>
      </ul>
    </li>
    <li>
      <h3 class="title">
        <a  class="page-link"  href="/help-documentation/ja/troubleshooting">Troubleshooting (19)</a>
        <a href=""  class="expand rotate" ><img src="/help-documentation/img/ja/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/troubleshooting/libvirt_error/">エラー状況 (libvirt エラー) のインスタンス</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/troubleshooting/ssh-too-long-error/">インスタンスに SSH で接続するのに 4 から 5 秒もかかるのはどうしてですか?</a>
          </li>
          
        
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/troubleshooting/ping-instance-error/">インスタンスに SSH/ping できないのはどうしてですか?</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/troubleshooting/nova-microversions-error/">Nova コマンドを実行した場合のエラー「Server doesn't support microversions」</a>
          </li>
          
        
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/troubleshooting/Bad_Availability_Zone/">Cloud Foundry: 無効な可用性ゾーン・エラー</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/troubleshooting/failed_to_create_router/">ルーターの作成試行が失敗する</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/troubleshooting/How_many_connections_can_HAProxy_handle/">HAProxy で処理できる最大同時接続数</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/troubleshooting/CLI-authentication-error/">Windows で OpenStack CLI のいずれかを使用すると、認証障害エラーが発生します</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/troubleshooting/floating-ips-error/">割り当てられている一部の浮動 IP が使用可能でないのはどうしてですか?</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/troubleshooting/horizon-delete-error/">Horizon ダッシュボードからプロジェクト/テナントを削除できないのはどうしてですか?</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/troubleshooting/no-valid-host-error/">エラー「No valid host was found」</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/troubleshooting/Cannot_See_New_vCPUs/">Horizon で新規 vCPU がリストされないのはどうしてですか?</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/troubleshooting/failure_prepping_block_device/">エラー「Failure prepping block device」</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/troubleshooting/delete_security_group/">セキュリティー・グループを削除できないのはどうしてですか?</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/troubleshooting/Troubleshooting_FAQ/">トラブルシューティングの FAQ</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/troubleshooting/Unable_to_ping_tenant_network/">テナント・ネットワーク間で ping できないのはどうしてですか?</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/help-documentation/ja/troubleshooting/Why_No_vIP_Failover_With_L2pop/">vIP インスタンスがフェイルオーバーするようにする場合に L2pop を使用できないのはどうしてですか?</a>
              </li>
            
          
        
        <li><a href="" class="page-link view">View More ( 11 )</a></li>
      </ul>
    </li>
    <li>
      <h3 class="title">
        <a  class="page-link"  href="/help-documentation/ja/openstack">Open Stack (15)</a>
        <a href=""  class="expand rotate" ><img src="/help-documentation/img/ja/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        <h5 class="sub__head">User Docs</h5>
        
        
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/openstack/userdocs/launch-instance-from-volume/">ボリュームからのインスタンスの起動方法</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/openstack/userdocs/import-vhd-image-lvm/">ルート・ディレクトリーに Linux ボリューム管理を使用している VHD イメージのインポート</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/openstack/userdocs/OpenStack_network_concepts/">OpenStack のネットワークの概念</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/openstack/userdocs/Creating-an-Instance-with-a-Specific-Fixed-IP/">特定の固定 IP を使用したインスタンスの作成</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/openstack/userdocs/Mitaka_CLI_notes/">OpenStack Mitaka CLI に関する注記</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/openstack/userdocs/Why-Choose-OpenStack/">OpenStack を選ぶ理由</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/openstack/userdocs/openstack-storage-concepts/">OpenStack ストレージの概念</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/openstack/userdocs/Ursula_and_OpenStack/">Ursula と OpenStack</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/openstack/userdocs/Creating_Instances_With_Static_IP/">静的 IP を使用したインスタンスの作成方法</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/openstack/userdocs/quotas/">割り当て量</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/openstack/userdocs/How_to_Isolate_Tenants/">テナント (プロジェクト) を分離する方法</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/openstack/userdocs/external-reference-material/">外部参照資料</a>
          </li>
          
        
        <li><a href="" class="page-link view">View More ( 3 )</a></li>
      </ul>

      <ul  class="article__list slide-up-hidden" >
        <h5 class="sub__head">API</h5>
        
        
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/openstack/api/floating-ip-address/">OpenStack API を使用した浮動 IP アドレスの作成</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/openstack/api/openstack-api-getting-started/">OpenStack API 概要</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/openstack/api/OpenStack_Client_Versions/">OpenStack クライアント・バージョンの要件</a>
              </li>
            
          
        
        <li><a href="" class="page-link view">View More ( 1 )</a></li>
      </ul>
    </li>




    <li>
      <h3 class="title">
        <a  class="page-link"  href="/help-documentation/ja/horizon">Horizon [GUI] (10)</a>
        <a href=""  class="expand rotate" ><img src="/help-documentation/img/ja/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/horizon/creating-additional-networks-with-horizon/">Horizon パネルを使用した OpenStack での追加ネットワークの作成</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/horizon/Making_Snapshots_in_Horizon/">スナップショットのための Horizon の使用</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/horizon/allocate-floating-ip/">インスタンスへのパブリック (浮動) IP の割り振りおよび関連付け</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/horizon/create-volume-from-horizon/">Horizon ダッシュボードからのボリュームの作成</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/horizon/horizon-for-administrators/">管理者のための Horizon</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/horizon/launch-instance-from-horizon/">Horizon ダッシュボードからのインスタンスの起動</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/horizon/launch-instance-from-horizon_newton/">Horizon ダッシュボードからのインスタンスの起動 (OpenStack Newton リリース)</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/horizon/set-reverse-dns/">IBM Bluemix Private Cloud インスタンスに対してリバース DNS (PTR) レコードはどのように設定しますか?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/horizon/using-horizon/">Horizon の使用</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/horizon/Horizon_troubleshooting_FAQ/">Horizon トラブルシューティングの FAQ</a>
          </li>
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/help-documentation/ja/nova">Nova [Compute] (13)</a>
        <a href=""  class="expand rotate" ><img src="/help-documentation/img/ja/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/nova/windows-user-and-password/">OpenStack で Windows インスタンス上の初期ユーザー名およびパスワードを設定する方法</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/nova/nova_live_migration/">Instance Live Migration</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/nova/CLI-create-public-instance/">コマンド・ラインを使用してインスタンスを作成して公開する方法</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/nova/Nova_boot_speed/">仮想マシンのブート時に水面下で何が行われていますか? また、どうすればブート時間を短縮できますか?</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/nova/Restrict_Floating_IP/">浮動 IP を制限するにはどうすればよいでしょうか?</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/nova/config_drive_for_instances/">インスタンスを作成し、config drive を使用してファイルをそのインスタンスに追加できますか?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/nova/create-vm-with-volumes/">Nova コマンド・ライン・クライアントを使用したインスタンスの作成方法</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/nova/define-flavor-vcpu/">フレーバー vCPU トポロジーを定義する方法</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/nova/deploy-to-specific-hypervisor/">How to deploy an instance to a specific hypervisor node</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/nova/maximum-flavor-spec/">フレーバーで設定できる最大の仕様はどのようになりますか?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/nova/migrate-instance/">新しいクラウドへのインスタンスのマイグレーション</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/nova/Metadata_service_FAQ/">OpenStack Neutron および Nova でのメタデータ・サービス</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/nova/hypervisor-statistics/">ハイパーバイザー統計を取得する方法</a>
          </li>
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/help-documentation/ja/neutron">Neutron [Networking] (22)</a>
        <a href=""  class="expand rotate" ><img src="/help-documentation/img/ja/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/network_ip_availability/">ネットワークの IP の可用性を確認する方法</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/neutron/isolatetwoprojectnetworksconnectedtoonesharedrouter/">共有ルーターに接続されたプロジェクト・ネットワークを分離する方法</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/time-ip-associated-with-instance/">インスタンスに対する浮動 IP の関連付けまたは関連付け解除が行われた時刻を確認するにはどのようにすればよいでしょうか?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/Load_Balancing_Methods/">ロード・バランシング方法</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/Multi-tier_Router_Configuration/">IBM Bluemix Private Cloud 内の多層ルーター構成</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/set-up-dns-records/">OpenStack インスタンスを指す DNS レコードをセットアップするにはどうすればよいでしょうか?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/routing_internal_traffic_between_projects/">プロジェクト間での内部トラフィックのルーティング</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/neutron/add-ip-to-instance/">インスタンスへの特定の固定プライベート IP の追加</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/configure-dns.for-instances/">インスタンスに対する DNS の構成</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/neutron/configure-multi-nics/">独自のクラウド・イメージに対する複数のネットワーク・インターフェースの構成</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/configure-ha-ip/">高可用性 IP の構成方法</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/creating-virtual-networks/">IBM Bluemix Private Cloud での仮想ネットワークの作成</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/when_create_port_fails/">When creating port failed, how could I do ?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/How_Can_I_See_My_IPs/">自分の IP はどのように確認できますか?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/How_to_update_DNS/">DNS はどのように更新できますか?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/vpn-vlan-directlink/">VPN、VLAN、および Direct Link</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/BYOFIP_support/">IBM Bluemix Private Cloud とお客様サイトの間での BYOFIP 接続の使用</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/Intro_to_LBaaS/">Load Balancer as a Service (LBaaS) の概要</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/Security_groups_CLI/">CLI を使用したセキュリティー・グループのセットアップ</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/neutron/Network_Use_Cases_White_Paper/">IBM Blue Box のネットワークのユース・ケース</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/neutron/Where_Are_These_IPs/">最初の 2 つの IP はどこへいきましたか?</a>
              </li>
            
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/help-documentation/ja/glance">Glance [Images] (6)</a>
        <a href=""  class="expand rotate" ><img src="/help-documentation/img/ja/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/glance/FAQ_Working_with_Windows_Images/">Windows イメージの操作の FAQ</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/glance/compatible-glance-images/">Glance で使用するためにダウンロードできる正式な OpenStack 互換のイメージのリストはありますか? (CentOS、Ubuntu、など)</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/glance/disk-capacity-constraints/">ディスク容量の制約</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/glance/Image_Properties_on_Power/">Power コンピュート上の Glance イメージの最適設定</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/glance/imagesnapshot/">イメージとスナップショットの違い</a>
              </li>
            
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/help-documentation/ja/cinder">Cinder [Block Storage] (13)</a>
        <a href=""  class="expand rotate" ><img src="/help-documentation/img/ja/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/cinder/read-only-cinder-error/">Cinder ボリュームが読み取り専用になるのは何が原因で、どのようにすれば修正できますか</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/cinder/cinder-volume-stuck/">Cinder ボリュームの停止</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/cinder/alternative_method_for_volume_encryption/">ブロック・ストレージ・ボリューム暗号化の代替方式 (Ubuntu ゲスト VM の使用)</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/cinder/Bug_Creating_Encrypted_Volumes/">Cinder による暗号化されたボリュームの作成がサポートされない</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/cinder/Managing_block_storage/">ブロック・ストレージの管理</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/cinder/cli-create-volume/">コマンド・ラインを使用したボリュームの作成</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/cinder/create-volume-from-snapshot/">インスタンスのスナップショットからのボリュームの作成はサポートされていますか?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/cinder/resize_cinder_volume/">Cinder ボリュームはどうすればサイズ変更できますか?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/cinder/supported_volume_types/">Cloud インスタンスでは、どのような Cinder ボリューム・タイプがサポートされますか? </a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/cinder/Ephemeral_to_Cinder/">一時ディスクから Cinder ストレージへの移動方法</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/cinder/volume_clone/">Can I enable volume full clone more than copy-on-write clone?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/cinder/Force_snapshot_on_attached_volume/">接続されているボリュームでスナップショットを強制する方法</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/cinder/cinder-failed-connection-error/">Cinder クライアントが「ERROR: Unable to establish connection」というメッセージを返して接続できない場合はどうすればよいですか?</a>
              </li>
            
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/help-documentation/ja/keystone">Keystone [Identity] (8)</a>
        <a href=""  class="expand rotate" ><img src="/help-documentation/img/ja/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/keystone/oidc-federation/">IBM Bluemix Private Cloud での OpenID Connect フェデレーション</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/keystone/saml-federation/">IBM Bluemix Private Cloud での Keystone SAML フェデレーション</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/keystone/RBAC_Definitions/">役割ベースのアクセス制御</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/keystone/Managing_Users_and_Projects/">ユーザーおよびプロジェクトの管理</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/keystone/k2k-federation/">IBM Bluemix Private Cloud での Keystone to Keystone (K2K) フェデレーション</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/keystone/tenants-security-groups-keystone/">プロジェクトおよびセキュリティー・グループ</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/keystone/custom-domains-keystone/">Keystone V3 内のカスタム・ドメイン</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/keystone/Getting_Started_with_K2K_Identity/">Keystone Federated Identity 概要</a>
          </li>
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/help-documentation/ja/heat">Heat [Orchestration] (7)</a>
        <a href=""  class="expand rotate" ><img src="/help-documentation/img/ja/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/heat/Getting_Started_With_Heat/">Heat テンプレート入門</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/heat/autoscaling-with-heat/">自動スケーリングのための Heat の使用</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/help-documentation/ja/heat/Deploying_apps_with_UCD/">IBM UrbanCode Deploy および IBM Bluemix Private Cloud でのアプリケーションのデプロイ</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/heat/using_heat_for_load_balancer/">サーバーにロード・バランサーをプロビジョニングするために Heat を使用</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/heat/using-ucd-ucdp/">IBM Bluemix Private Cloud での IBM Urban Code Deploy の使用</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/heat/using_heat_for_deployment/">自己署名証明書による Heat の使用</a>
              </li>
            
          
        
      </ul>
    </li>


    <li>
      <h3 class="title">
        <a  class="page-link"  href="/help-documentation/ja/ceilometer">Ceilometer [Telemetry] (1)</a>
        <a href=""  class="expand rotate" ><img src="/help-documentation/img/ja/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/help-documentation/ja/ceilometer/compatible-glance-images/">インスタンスのスナップショットからのボリュームの作成はサポートされていますか?</a>
              </li>
            
          
        
      </ul>
    </li>

  </ul>
</div>


<article>

  <div class="page-container">

    <div class="main-content">
      <header class="post-header">

        <h1 class="post-title">
        

        

        クラウド基礎 -- 最適化されたロード・バランシング

        
        </h1>




        
        <div class="post-data">
          <img src='/help-documentation/img/ja/avatar.png' />
          <ul class="author--info">
            <li>
              <span class="author">by Dustin Lundquist and Leslie Lundquist </span>
              <span class="dot">&#9679;</span>
              <span class="date"> May 17, 2017</span>
            </li>
            <li>
              <span class="job-title"></span>
            </li>
            <li class="tags">
              
                <h4>Tags:</h4>
                  <ul class="tag--list">
                  
                    <li class="tag"><p>load balancing</p></li>
                  
                    <li class="tag"><p>ロード・バランシング</p></li>
                  
                    <li class="tag"><p>HA</p></li>
                  
                    <li class="tag"><p>ARP レスポンダー</p></li>
                  
                    <li class="tag"><p>MAC 移動</p></li>
                  
                  </ul>
              
            </li>
          </ul>
        </div>
        
      </header>

      <div class="post-content">
        <p>クラウド上でワークロードを実行していると、2 つ以上の仮想マシン (VM) ホスト間で負荷を分散したいことが多々あります。理由の 1 つは、例えば基幹業務データベース・アプリケーションを実行している場合など、冗長性のためであることが考えられます。あるいは、ワークロードを複数のマシンにわたって拡大し、より多くのクライアントにサービス提供できるようにするためであることが考えられます。
個々の VM には障害が発生する可能性があります。そのため、クラウドで運用するということは、サービスを自動的にプロビジョニングすることであると同時に、障害に十分に考慮して設計するということでもあります。</p>

<p>ほとんどのクラウド・カスタマーは、高可用性 (HA) サービスを求めています。一般的に、ワークロードを可用性の高い状態で実行するには、そのワークロードを 2 つの (または 2 つ以上の) 完全に別個の物理マシン上でホストします。または、2 つの別個の可用性ゾーン (<em>データ・センター</em>など) でホストすると一層良いです。そうすることで、片方が故障しても、もう片方でサービスを継続できます。片方のマシンが故障すると、もう片方のマシンへの「フェイルオーバー」が発生し、サービスを実行し続けることができます。これが「HA」サービスと呼ばれるものであり、ほとんどいつでも利用可能です。</p>

<h3 id="ha-について知っておくべきこと">HA について知っておくべきこと</h3>

<p>HA はいつでも 100% 利用可能であることを保証するものではありません。単一サーバーよりは「もっと利用可能」であるだけです。1 つ例を挙げると、サーバーが 2 つあり、各サーバーの信頼性が 70% しかない場合 (つまり、各サーバーが要求に正常に応えることができる可能性がいつでも 70% はあるということです)、これらの 2 つのサーバーが理想的な HA 構成であれば信頼性は 91% になります。数学的な説明は次のとおりです。最初のサーバーが要求に正常に応える可能性が 70% であり、それを 2 番目のサーバーが要求に正常に応える可能性 (残り 30% 中の 70%) と合わせると、91% となります。恐らく、全体的な構成をもっと手放す必要があったり、このレベルの信頼性を備えた、より信頼性の高いサーバーを少なくとも手に入れる必要があるかもしれません。しかし、「より良い」可用性はあるに越したことはありません。</p>

<h3 id="ha-とロードバランシング">HA とロード・バランシング</h3>

<p>集中型ワークロードを実行している場合、HA が必要になる最初の箇所は通常はロード・バランサー (LB) です。そうすることで、フェイルオーバーが発生した場合でも常にアプリケーションに到達できる単一のポイント (既知の宛先) を用意することができます。例えば、データベースを HA モードで実行する場合は、そのデータベースを 2 つの VM 間で複製する方法を検討し、それら 2 つの VM をロード・バランサーの内側に配置して、それらの間でネットワーク・トラフィックをより均等に分散させることになるでしょう。クラウドでは、毎回同じ VM に到達することを保証する必要はありません。把握する必要があるのは、データベースが常に到達可能であり、一貫性のあることだけです。</p>

<p>クラウド環境では、クラウド・プロバイダーのロード・バランサーを使用した方が良いです。独自の LB スキーマを作成しようとすると、オーバーレイ・ネットワークや Software Defined Networking (SDN) ネットワークがクラウド・プロバイダーの HA IP スキーマと下位レベルの通信を行うことになるため、無用な複雑さが生じる可能性があります。サービス・プロバイダーの LB を使用することで、このような問題をプロバイダーの手にゆだねることができます。そのため、彼らの基盤となるネットワークではそれらの問題を目にしなくて済みます。例えば、Amazon のクラウドでは Elastic Load Balancer (ELB) という優れたソリューションが使用されているため、顧客が独自にロード・バランシングを行う必要はありません。</p>

<p>上記のすべてに対して、クラウド環境でのロード・バランシングには 3 つの効果的な方法があり、ご使用の環境に行うべき方法が見つかるでしょう。各方法には長所と短所があります。</p>

<h3 id="ロードバランシングの定義-3-つの基本方式">ロード・バランシングの定義: 3 つの基本方式</h3>

<p>ロード・バランシングとは基本的に、サービスの名前 (データベース・サービスなど) とそのサービスを提供しているホストの到達可能性との間のマッピングを管理すること (変更すること) と同じです。サーバーがイーサネット経由で利用可能であり、要求を DNS 経由で行っている場合、そのマッピングを 3 つの基本的な方法で変更できます。あるいは、経路の途中の 3 つの基本箇所に「介入」する、と考えることができます。変更できる箇所は以下のとおりです。</p>

<ul>
  <li>DNS 名と IP アドレスとの間のマッピング</li>
  <li>IP アドレスとイーサネットの MAC アドレスとの間のマッピング</li>
  <li>イーサネットの MAC アドレスとスイッチ・ポートとの間のマッピング</li>
</ul>

<p>[注意: IP に直接接続している場合は、それを止めて、代わりに DNS を使用してください。その方がサービスの管理が簡単です。]</p>

<p>以下の表に、これら 3 つのオプションの要約を記載しています。この表を見ただけで理解できる場合は、恐らくこの記事の残りの部分を読む必要はありません。どうぞ実行に移してください。そうでない場合は、後続の説明をお読みください。</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>MAC 移動 (#3)</th>
      <th>ARP 移動 (#2)</th>
      <th>GLB (グローバル) (#1)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>関連付け</td>
      <td>MAC -&gt; ポート</td>
      <td>IP -&gt; MAC</td>
      <td>ドメイン・ネーム -&gt; IP</td>
    </tr>
    <tr>
      <td>更新メッセージ</td>
      <td>Gratuitous ARP</td>
      <td>Gratuitous ARP</td>
      <td>なし (DNS 応答)</td>
    </tr>
    <tr>
      <td>アクション実施者</td>
      <td>HA サーバー間の経路内にあるスイッチ</td>
      <td>ローカル VLAN 上のルーターおよびホスト</td>
      <td>キャッシング DNS リゾルバーを用いるクライアント</td>
    </tr>
    <tr>
      <td>実装例</td>
      <td>OpenBSD CARP、Cicso HSRP</td>
      <td>uCARP</td>
      <td>F5 GLB</td>
    </tr>
    <tr>
      <td>更新されるテーブル</td>
      <td>スイッチの MAC テーブル</td>
      <td>ホストの ARP キャッシュ/テーブル</td>
      <td>ホストおよびリゾルバーの DNS キャッシュ</td>
    </tr>
    <tr>
      <td>問題点</td>
      <td>プロバイダーの MAC フィルター、プロバイダーの IP フィルター</td>
      <td>プロバイダーの IP フィルター、サブネット上のホスト間でスプリット・ブレーンが発生する可能性が高い</td>
      <td>ローカル・サブネット上ではなく、グローバル・アプリケーションで最適に機能するソリューションである</td>
    </tr>
  </tbody>
</table>

<h4 id="オプション-1-dns-名から-ip-へのマッピングの変更">オプション 1: DNS 名から IP へのマッピングの変更</h4>

<p>この最初のオプションの例は、グローバル・ロード・バランシング (GLB) および DNS ラウンドロビンです。GLB が参照するスマート DNS リゾルバーでは、どの DNS リソース・レコードを返すかを選択する際に、サーバーの可用性、サーバーの負荷またはクライアント (あるいはその両方)、およびサービスの地理的な近接性が考慮されます。</p>

<p>ラウンドロビン DNS は、DNS リゾルバーがリソース・レコードの順番を循環させることで、連続する要求が「ラウンドロビン方式」(RR) に割り当てられていくという単純な手法です。例えば、優先されるアドレス・ファミリー (IPv4 または IPv6) の最初の RR アドレスをクライアントが試みたとします。タイムアウト枠 (通常は 2 秒) 内に接続できない場合、クライアントはリゾルバーによって戻された他のアドレスへの接続を試みることができます。</p>

<p>この DNS グローバル・ロード・バランシング手法は、ほとんどの場合他の手法が行われる箇所より「外側」で行われるため、それら他の手法と組み合わせて使用することができます。世界中でデータ・センターを運用している場合などでも、ほとんどすべてのクラウド・ソリューションに安全に設置することができます。抱えているロード・バランシングの問題は他の手法と同じですが、規模はまったく異なります。</p>

<h4 id="オプション-2-ip-アドレスからイーサネット-mac-アドレスへのマッピングの変更">オプション 2: IP アドレスからイーサネット MAC アドレスへのマッピングの変更</h4>

<p>このオプションは、「ARP 移動」と呼ばれることがあります。ARP 移動の場合、グループ内の各ホストには単一の MAC アドレスがありますが、各ホストはこの共有 HA IP アドレスによって応答します。この共有 HA IP アドレスは、新しい、関連付けられた MAC アドレスであるとして Gratuitous ARP 要求によって認識されます。この更新はローカル・サブネット上の他のすべてのホストに送信される必要があります (ローカル・サブネットは通常は VLAN であり、マッピングは、常にではありませんが、ホストから IP アドレスへの 1 対 1 です)。この場合、サブネット外からのデータを送信するホストは、そのデータをルーター経由で送信します。そのため、その IP の更新された MAC アドレス (ネクスト・ホップ) を学習する必要があるのは、ルーターとなります。</p>

<p>ARP 移動の問題点はネットワークで輻輳が発生する場合に部分的なフェイルオーバーが発生することであり、これは望ましい状態ではありません。この状態では、一部のホストが要求を古い宛先に送信するため、いくつかの要求が各 HA サーバーに送られます。これは、サブネット上のいくつかのリンクが混雑しすぎていると、更新がドロップされることがあるため、更新が反映されない場合に発生します。また、各ホストが Gratuitous ARP に応答するため、更新を行う際に各ホストのリソースを使い果たしてしまう可能性があります。</p>

<p>ARP 移動方式は、OSI モデルの L2 と L3 の境界で動作する点に注意してください。</p>

<h4 id="オプション-3-イーサネット-mac-アドレスからスイッチポートへのマッピングの変更">オプション 3: イーサネット MAC アドレスからスイッチ・ポートへのマッピングの変更</h4>

<p>MAC 移動オプションでは、HA グループのアクティブ・ノードへの追加 MAC として仮想 MAC アドレスが使用されます。「アクティブな」ホストは、そのローカル MAC アドレスを対象としたフレームだけでなく、共有 MAC アドレスのフレームも受け取ります。</p>

<p>MAC 移動方式は、小規模な L2 ネットワークを使用している場合に優れています。例えば、いくつかのスイッチを接続してスパンニング・ツリー・プロトコルを使用している場合などです (つまり、冗長接続の場合です)。このような状況では、MAC 移動手法は信頼性が高く予測可能であることが多いです (ただし、この方式はハードウェア上で動作します)。どこか他所のハードウェア上で実行したい場合は、その所有者にこの記事を紹介し、彼らの意見を訪ねてください (もし所有者らが対処できないようであれば、別のプロバイダーを見つけた方が良いでしょう)。</p>

<p>MAC 移動モデルは、OSI モデルの L2 と L1 の境界で動作する点に注意してください。</p>

<h3 id="上記-2-つの方式による-gratuitous-arp-信号の使用">上記 2 つの方式による Gratuitous ARP 信号の使用</h3>

<p>後者 2 つの手法を区別する際に分かりにくいことは、LB 機能を果たすために MAC 移動と ARP 移動の両方で Gratuitous ARP 応答を使用することです。これらは実際に同じ信号を異なる目的で使用しますが、Gratuitous ARP 信号を受信するにあたって、それぞれの場合で異なるアクションが取られます (Gratuitous (無償の) と呼ばれる所以は、誰かからの要求によってではなく、ただブロードキャストで行われるためです)。</p>

<h4 id="mac-移動">MAC 移動</h4>

<p>MAC 移動は、信号方式として Gratuitous ARP を使用しますが、Gratuitous ARP を受信するホストはこの新しい情報を既に知っているため、「age to zero」フィールドへの更新があるだけです。この更新はスイッチ・テーブルに既に入力されているため、ただエージング・タイマーをリセットするだけであり、既存のエントリーは「再び新規」となります。</p>

<p>(注意: スイッチとホストのすべてのエントリー (ARP テーブルと MAC アドレス・テーブル) は、ゼロにエージアウトされます。ベンダーごとに異なりますが、各エントリーの存続時間は 5 分から 4 時間です。)</p>

<p>つまり要約すると、MAC 移動方式では、ホストはメッセージを無視するか、スイッチ・テーブルのエージング値をリセットします。</p>

<h4 id="arp-移動">ARP 移動</h4>

<p>しかし、上記と同じ例を ARP 移動方式で使用すると、スイッチは「このフレームは自分が知らないポートから来ている」と判断して更新します。つまり、スイッチはこのフレームのソース・アドレスが予測とは異なるポートに届いていることに気付くため、それに応じて自身の MAC アドレス・テーブルを更新します。</p>

<h3 id="arp-移動と-mac-移動が-sdn-上で適切でない理由">ARP 移動と MAC 移動が SDN 上で適切でない理由</h3>

<p>これらのメソッドは、次の標準的な理由により Software Defined Networking (SDN) では特にスケーラブルでありません。つまり、起こり得るパフォーマンスの問題の可能性、セキュリティーの問題の可能性、スロー・フェイルオーバーにつながる伝搬遅延の可能性、およびスプリット・ブレーン状態の可能性です。</p>

<h4 id="パフォーマンスとセキュリティー">パフォーマンスとセキュリティー</h4>

<p>コントローラー・ベースの SDN があり、L2 ネットワーキングを行っているだけの場合、MAC 移動はコントロール・プレーンまで浮かび上がってこなければならないイベントです。そこでパスを再計算し、スイッチにプッシュして戻されます。</p>

<p>このアクティビティーでは計算リソースが集中するため、DoS 攻撃として使用することができます。通常は速度制限されていますし、するべきです。</p>

<h4 id="伝搬遅延とエッジケース">伝搬遅延とエッジ・ケース</h4>

<p>加えて、従来の分散学習ネットワーク (相互接続された通常のイーサネット交換網など) とは異なり、ローカル・スイッチがこの学習を処理するにはより多くの時間がかかります。従来のネットワークでは、新しい経路情報は外周を拡大しながら外側に広がっていく波紋のように伝搬します。つまり新しい状態の波紋です。あるいは、波紋よりも直線的な、伝搬の波と考えることもできます。</p>

<p>伝搬遅延の結果として、一部のスイッチは HA フェイルオーバーのために更新された宛先アドレスを学習しているが、中には学習していないスイッチもあるといったエッジ・ケースが発生します。このようなエッジ・ケースは、更新情報が波のように広がる場合、より予測しやすく、より管理しやすいです。例えば、2 台のスイッチが互いの間でフレームを行き来させることが少ない場合、それぞれのスイッチは、もう 1 台のスイッチの情報を更新する必要があると考えます。(このような動作は、これらのスイッチ間のリンクで利用できる帯域幅をすべて消費してしまう可能性があります。)</p>

<p>最後に、SDN は L3 ネットワーキングを含むかもしれませんし、含まないかもしれません。もし含むのであれば、ARP 移動は同様に SDN 制御のルーターに影響をもたらします。特に、更新に長い時間がかかります。なぜなら、あるサブネットにおける L2 構造においては、通常はスイッチの数よりルーターの数の方が少ないので、この場合にはそこまでひどい状況ではありません。我々の主な関心事は、(外側へ波打たせることによって) 更新にかかる時間を最小化することです。そしてこれは当然ながら、フェイルオーバーの完了にかかる時間と同義となります。</p>

<h4 id="arp-レスポンダーが使用可能な-sdn">ARP レスポンダーが使用可能な SDN</h4>

<p>一部の SDN には (例えば OpenStack Neutron などには)、ARP レスポンダーがあります。そのため、古い情報や整合性のない情報に応答する場合があります。この状況は、ARP 移動方式の標準的な欠点を強調するため、スプリット・ブレーンが機能する可能性につながります。この方式は、例えばマスター・マスター構成の DB を運用している場合、OpenStack Neutron に適用するには非常に不適切です。幸いにも、ARP レスポンダーは Neutron においてはオプション扱いなので、必要に応じて機能をオフにすることが可能です。</p>

<p>Neutron におけるロード・バランシングの詳細については、こちらの<a href="/help-documentation/ja/neutron/Intro_to_LBaaS/">関連する入門記事 </a>、およびいくつかの<a href="/help-documentation/ja/neutron/Limitations_of_LBaaSv2/">発生しうる制限事項</a>について説明する記事を参照してください。</p>

<h3 id="失敗の一例-arp-ロードバランシング">失敗の一例: ARP ロード・バランシング</h3>

<p>ここで問題なのは、ARP ロード・バランシングを採用した場合、Gratuitous ARP パケットが絶えず送出されていることになります。つまり、1 秒未満という時間枠で、処理が必要なパケットが多数送出されています。これによって、通常時の数百倍あるいは数千倍の負荷が発生します。通常のネットワーク状況では、ARP 移動や MAC 移動はめったに発生しないイベントです。例えば、あるシステムがオンラインになった場合に ARP パケットが 1 つ発生し、次にまた発生するのは 4 時間後、また4時間後、といった具合です。SDN の場合はこれはよくある設計ではありません。SDN におけるロード・バランシングは、必ずコントロール・プレーンまで上昇し、そしてすべてのホストに送り返されるという、絶え間ない更新の流れによって完遂されます。したがって、本来であればもっと効率良く処理できる機能を実行するためにシステム・リソースを多量に消費します。</p>

<p>名前は挙げませんが、一部の商用クラウド事業者は、顧客にロード・バランシングを提供するための標準方式として ARP ロード・バランシングを利用しています。これらの事業者は、採用技術を再考したほうが良いかもしれません。なぜなら、これまでに挙げてきたすべての潜在的な危険性、特にパフォーマンスとセキュリティーの懸念事項に対して、彼ら自身を直面させているからです。</p>

<h3 id="これら-3-つの基本的な-lb-手法以外の実装手法">これら 3 つの基本的な LB 手法以外の実装手法</h3>

<p>ロード・バランサーがネットワークへの接続に使用できるプロトコルは他にもあります。例えば、ロードバランサーはネットワーク・ルーティング・プロトコルを利用することや、一まとめにされたマルチイーサネット・スイッチ・リンク (LAG またはポート・チャネル) でスイッチのように振る舞うことができます。</p>

<p>これらの実装手法は、より高度なネットワーク構成が必要とされ、一般的により目的に特化して構成されます。特定の状況では、これらの実装手法の方が先に示した手法よりも良い選択である可能性があります。(これらの手法はあらゆる場所で機能するわけではありませんが、クラウド事業者は LB サービスを接続するために、これらの手法のいずれかを選択する可能性があります。)</p>

<p><code class="highlighter-rouge">keepalived</code> などの特定のサービスもこのカテゴリーに入れることが可能です。</p>

<p>マネージド・ホスティング・プロバイダーのような専門家は、これらのより複雑な代替え手法を問題なく使用している可能性があります。例えば Blue Box においては、IBM の傘下に加わる以前は、Blue Box の「Blocks」というロード・バランサーのために、OSPF を用いて我々のネットワーク・インフラストラクチャーに共有 IP アドレスを通知していました。</p>

<p>まとめると、この記事で説明した 3 つの基本的な手法のより高度な実現手法は他に存在しますが、この記事で紹介した 3 つの手法は、クラウド環境でのロード・バランシングを達成するためにどの実現手法でも利用する必要がある、基本的で根本的な手法です。</p>

      </div>
    </div>

  </div>
</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="footer__wrapper--light">

    <ul class="footer--nav">
      <li class="footer--nav__header">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud">Products</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="nav--item__link">Bluemix Private Cloud</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/private-cloud-local" class="nav--item__link">Private Cloud Local</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/private-cloud-contact-us" class="nav--item__link">Sales</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/private-cloud-faq" class="nav--item__link">FAQs</a>
      </li>
    
    </ul>

    <ul class="footer--nav">
      <li class="footer--nav__header">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud">Our Story</a>
      </li>
 <li class="footer--nav__item">
        <a href="https://github.com/blueboxgroup?cm_mc_uid=04946053248414876234663&cm_mc_sid_50200000=1489010497" class="nav--item__link">On GitHub</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://blueboxstatus.com/" class="nav--item__link">System Status</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://support.bluebox.net/" class="nav--item__link">Support</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://support.bluebox.net/" class="nav--item__link">Box Panel</a>
      </li>
    </ul>

    <ul class="footer--nav">
      <li class="footer--nav__header">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud">Resources
        </a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud">Case Studies</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="nav--item__link">Videos</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="nav--item__link">News</a>
      </li>
    </ul>

    <ul class="footer--nav">
      <li class="footer--nav__header">
        <a href="hhttps://www.ibm.com/blogs/bluemix/">Recent Blog Posts</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/blogs/bluemix/2016/07/the-power-of-openstack/" class="nav--item__link">The Power of OpenStack</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/blogs/bluemix/2016/08/blue-box-storage-models-explained/" class="nav--item__link">IBM Bluemix Private Cloud Storage Models</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.blueboxcloud.com/insight/blog-article/github-ibm-com-running-on-blue-box" class="nav--item__link">IBM Github Runs on Bluemix Private Cloud</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/blogs/bluemix/2016/10/building-up-to-openstack/" class="nav--item__link">Building up to OpenStack</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/blogs/bluemix/2016/07/keystone-to-keystone-federated-identity-on-blue-box-cloud/" class="nav--item__link">Get Started with Keystone Federation</a>
      </li>
    </ul>
  </div>
  <div class="footer__wrapper--dark">
    <ul class="footer--list">
      <li class="list--item">
        <a href="https://www.facebook.com/BlueBoxGroup/" class="list--item__link">Facebook</a>
      </li>
      <li class="list--item">
        <a href="https://twitter.com/bluebox?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor" class="list--item__link">Twitter</a>
      </li>
      <li class="list--item">
        <a href="https://www.linkedin.com/company/blue-box-group" class="list--item__link">LinkedIn</a>
      </li>
      <li class="list--item">
        <a href="https://plus.google.com/+BlueBoxSeattle/posts" class="list--item__link">Google +</a>
      </li>
      <li class="list--item">
        <a href="https://github.com/blueboxgroup" class="list--item__link">GitHub</a>
      </li>
    </ul>

    <ul class="footer--list">
      <li class="list--item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/private-cloud-contact-us" class="list--item__link">Contact</a>
      </li>
      <li class="list--item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="list--item__link">Legal</a>
      </li>
      <li class="list--item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="list--item__link">Privacy Policy</a>
      </li>
      <li class="list--item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="list--item__link">Terms and Conditions</a>
      </li>

    </ul>
  </div>
  <div class="footer__wrapper--black">
    <p>
        &copy; 2017 IBM Bluemix
    </p>
  </div>
</footer>



    <script src="/help-documentation/js/vendor/simple-jekyll-search.js" type="text/javascript"></script>


    <script>
        SimpleJekyllSearch({
          searchInput: document.getElementById('search-input'),
          resultsContainer: document.getElementById('results-container'),
          json: '/help-documentation/search.json',
          searchResultTemplate: '<li class="search-item"><a href="{url}" class="item-title">{title}</a><ul class="tag--list">{tags}</ul></li>'
        });
    </script>
  <script src="/help-documentation/js/scripts.js"></script>

  </body>

</html>
