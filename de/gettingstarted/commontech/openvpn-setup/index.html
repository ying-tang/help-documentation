<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>OpenVPN-Server in einer Instanz konfigurieren</title>
  <meta name="description" content="Wenn Sie Verbindungen zu Ihren internen Bluemix Private Cloud-Instanzen herstellen müssen, aber keine verfügbaren variablen IP-Adressen haben, oder wenn Sie ...">

  <link rel="stylesheet" href="/tyying/help-documentation-staging-area/css/main.css">
  <link rel="canonical" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/openvpn-setup/">
  <link rel="alternate" type="application/rss+xml" title="Blue Box Help" href="/tyying/help-documentation-staging-area/de/feed.xml">
  
  <style>
   .site-header img:first-child {
       height: 72px;
}
</style>
  
</head>


  <body>

  
    <header class="site-header">

  <div class="header-wrapper">

    <a class="site-title" href="/tyying/help-documentation-staging-area/de/"><img src="/tyying/help-documentation-staging-area/img/de/Bluemix-logo-UI.svg" alt="" height="72px"></a>

    <div class="search--pageview">

  <div class="full-view__search hide">
    <a href="" class="x hide">X</a>
    <ul id="results-container"></ul>
    <ul class="results--container"></ul>

  </div>
  <div class="input-container">
    <label for="search__fullview" class="hide search--label">Search IBM Bluemix Private Cloud Help</label>
    <input type="text" id="search-input" placeholder="" name="search" class="search__minview--page">
    <img src="/tyying/help-documentation-staging-area/img/de/search.svg" class="search-icon" />
  </div>
</div>


    <a href="mailto:llundquist@us.ibm.com" class="header--request">
      <p>
        Submit A Request
      </p>
      <img src="/tyying/help-documentation-staging-area/img/de/user.svg">
    </a>
    <a id="nav-toggle" href="#"><span></span></a>

    <div>
  
    
      <a  href=" /tyying/help-documentation-staging-area/gettingstarted/commontech/openvpn-setup/ ">en</a> |
    
      <a  href=" /tyying/help-documentation-staging-area/fr/gettingstarted/commontech/openvpn-setup/ ">fr</a> |
    
      <a style="font-weight: bold;" href=" /tyying/help-documentation-staging-area/de/gettingstarted/commontech/openvpn-setup/ ">de</a> |
    
      <a  href=" /tyying/help-documentation-staging-area/ja/gettingstarted/commontech/openvpn-setup/ ">ja</a> |
    
      <a  href=" /tyying/help-documentation-staging-area/zh_CN/gettingstarted/commontech/openvpn-setup/ ">zh_CN</a> |
    
      <a  href=" /tyying/help-documentation-staging-area/zh_TW/gettingstarted/commontech/openvpn-setup/ ">zh_TW</a> |
    
      <a  href=" /tyying/help-documentation-staging-area/pt_BR/gettingstarted/commontech/openvpn-setup/ ">pt_BR</a> |
    
  
</div>

  </div>

</header>

  

  
  <div class="page-content">
  

      <div class="main-wrapper">
        
<div class="sidebar sidebar--toggled">
  <ul class="sidebar__nav">
    <li>
      <h3 class="title">
        
        
        
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/de/gettingstarted">Getting Started (41)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/de/arrow.svg" /></a>
      </h3>
      <ul  class="article__list" >
        <h5 class="sub__head">Common Technical Questions</h5>
        
        
        
          
          <li>
              <a class="page-link--active"  href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/openvpn-setup/">OpenVPN-Server in einer Instanz konfigurieren</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/connect-to-openvpn-server/">Verbindung zum OpenVPN-Server herstellen</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/Customer_3.1.1_Point_Release/">Notas sobre a liberação do ponto 3.1.1 para cliente</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/blue-box-cloud-components/">Bluemix Private Cloud-Komponenten</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/detaching-volume/">Vorbereitungen für das Abhängen eines Datenträgers</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/Customer_3.1.0_Release_Notes/">Notas sobre a liberação 3.1.0</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/Customer_4.0.0.0r_Release_Notes/">Notas sobre a liberação 4.0.0.0r</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/python-environment-primer/">Virtuelle Python-Umgebungen: Einführung für Entwickler</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/FAQ/">Häufig gestellte technische Fragen</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/RHOSP_Product_Overview/">IBM Bluemix Private Cloud with Red Hat - Produktübersicht</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/RHOSP_Building_Blocks/">Bausteine für IBM Bluemix Private Cloud with Red Hat</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/Building_Blocks/">IBM Bluemix Private Cloud-Bausteine (Community Edition)</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/general_product_overview/">Allgemeine Produktübersicht</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/Instance_Resize/">Größe einer Instanz ändern (nicht live)</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/Connecting_Clouds_with_SoftLayer/">Netzkonnektivität zwischen mehreren Cloudumgebungen über das private Netz einrichten</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commontech/Windows_License_Activation/">Kundenanleitung für Windows-Aktivierung</a>
              </li>
            
          
        
        <li><a href="" class="page-link view">View More ( 9 )</a></li>
      </ul>
      
      <ul  class="article__list" >
        <h5 class="sub__head">Common Administrative Questions</h5>
        
        
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commonadmin/adding-removing-subscribers/">Abonnenten für ein Ticket hinzufügen oder entfernen</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commonadmin/view-my-bill/">Wie zeige ich meine Rechnung an?</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commonadmin/report-issue/">Wie melde ich ein Problem?</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commonadmin/escalating-a-ticket/">Wie eskaliere ich ein Ticket?</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commonadmin/status-pages/">Bluemix Private Cloud-Statusseiten</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/commonadmin/Transferring_A_Domain_From_Blue_Box/">Domäne von Blue Box übertragen</a>
              </li>
            
          
        
        <li><a href="" class="page-link view">View More ( 2 )</a></li>
      </ul>
      
      <ul  class="article__list" >
        <h5 class="sub__head">User Guides</h5>
        
        
          
             
         
             
         
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/userguides/Box_Panel/">Box Panel-Benutzerhandbuch</a>
                  </li>
              
             
         
             
                <li>
                <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/userguides/Eternal_Blue-ish_Triangle/">Box Panel, Site Controller und IBM Bluemix Private Cloud Local</a>
                </li>
              
         
             
                <li>
                <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/userguides/qemu_article/">Einführung in OpenStack — QEMU und Ihre Cloud</a>
                </li>
              
         
             
                <li>
                <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/userguides/Improving_Cloud_Performance/">Einführung in OpenStack II -- Cloudleistung verbessern</a>
                </li>
              
         
             
                <li>
                <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/userguides/Optimized_Load_Balancing/">Cloud 101 -- Optimierter Lastausgleich</a>
                </li>
              
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/userguides/Cloud_Images_Provided_RHOSP/">Benutzerhandbuch für Cloud-Images (IBM Bluemix Private Cloud with Red Hat)</a>
                  </li>
              
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/userguides/Cloud_Images_Provided_by_IBM/">Benutzerhandbuch für Cloud-Images (Community-Edition)</a>
                  </li>
              
             
         
             
         
             
         
             
         
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/de/gettingstarted/userguides/Image_Release_Notes/">Releaseinformationen für IBM Bluemix Private Cloud-Image</a>
                  </li>
              
             
         
        <li><a href="" class="page-link view">View More ( 4 )</a></li>
      </ul>
      
      <ul  class="article__list" >
        <h5 class="sub__head">Release Notes</h5>
        
        
          
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/de/releasenotes/Customer_3.0.1_Point_Release/">Releaseinformationen zum Punktrelease Customer 3.0.1</a>
                  </li>
              
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/de/releasenotes/Customer_3.1.1_Point_Release/">Releaseinformationen zum Punktrelease 3.1.1 für Kunden</a>
                  </li>
              
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/de/releasenotes/Customer_4.0.0.0c_Release_Notes/">Release Notes 4.0.0.0c</a>
                  </li>
              
             
         
             
                <li>
                <a class="page-link" href="/tyying/help-documentation-staging-area/de/releasenotes/Customer_4.0.0.0r_Release_Notes/">Releaseinformationen 4.0.0.0r</a>
                </li>
              
         
             
                <li>
                <a class="page-link" href="/tyying/help-documentation-staging-area/de/releasenotes/Customer_2.1.1_Point_Release/">Releaseinformationen 2.1.1</a>
                </li>
              
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/de/releasenotes/release_notes_2.1_for_customers/">Releaseinformationen zu Version 2.1</a>
                  </li>
              
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/de/releasenotes/Customer_3.0.0_Release_Notes/">Releaseinformationen 3.0.0</a>
                  </li>
              
             
         
             
                
                  
                  <li class="hidden non-featured">
                    <a class="page-link" href="/tyying/help-documentation-staging-area/de/releasenotes/Customer_3.1.0_Release_Notes/">Releaseinformationen 3.1.0</a>
                  </li>
              
             
         
        <li><a href="" class="page-link view">View More ( 6 )</a></li>
      </ul>
    </li>
    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/de/troubleshooting">Troubleshooting (19)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/de/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/libvirt_error/">Instanz im Fehlerstatus: libvirt-Fehler</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/ssh-too-long-error/">Warum dauert es 4-5 Sekunden, um meine Instanzen über SSH zu erreichen?</a>
          </li>
          
        
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/ping-instance-error/">Warum kann ich keine SSH-Verbindung zu einer Instanz herstellen oder eine Instanz nicht mit Ping erreichen?</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/nova-microversions-error/">Beim Ausführen von Nova-Befehlen wird der Fehler 'Server doesn't support microversions' angezeigt</a>
          </li>
          
        
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/Bad_Availability_Zone/">Cloud Foundry: Fehler wegen ungültiger Verfügbarkeitszone</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/failed_to_create_router/">Versuch, einen Router zu erstellen, schlägt fehl</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/How_many_connections_can_HAProxy_handle/">Wie viele gleichzeitige Verbindungen kann HAProxy verarbeiten?</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/CLI-authentication-error/">Bei der Verwendung der OpenStack-CLIs unter Windows treten Authentifizierungsfehler auf</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/floating-ips-error/">Warum ist keine der variablen IP-Adressen verfügbar, die mir zugewiesen wurden?</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/horizon-delete-error/">Warum kann ich mein Projekt/meinen Tenant nicht über das Horizon-Dashboard löschen?</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/no-valid-host-error/">Ausgabe des Fehlers "No valid host was found"</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/Cannot_See_New_vCPUs/">Warum werden meine neuen vCPUs in Horizon nicht aufgelistet?</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/failure_prepping_block_device/">Ausgabe des Fehlers: Failure prepping block device</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/delete_security_group/">Warum kann ich keine Sicherheitsgruppe löschen?</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/Troubleshooting_FAQ/">Häufig gestellte Fragen zur Fehlerbehebung</a>
          </li>
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/Unable_to_ping_tenant_network/">Warum kann ich meine Tenantnetze mit Ping nicht erreichen?</a>
              </li>
            
          
        
          
            
            
              <li class="hidden non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/troubleshooting/Why_No_vIP_Failover_With_L2pop/">Warum kann ich L2pop nicht für das Failover meiner vIP-Instanzen verwenden?</a>
              </li>
            
          
        
        <li><a href="" class="page-link view">View More ( 11 )</a></li>
      </ul>
    </li>
    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/de/openstack">Open Stack (15)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/de/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        <h5 class="sub__head">User Docs</h5>
        
        
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/openstack/userdocs/launch-instance-from-volume/">Instanz von Datenträger aus starten</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/openstack/userdocs/import-vhd-image-lvm/">VHD-Image mit Linux-Datenträgerverwaltung für Stammverzeichnis importieren</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/openstack/userdocs/OpenStack_network_concepts/">OpenStack-Netzkonzepte</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/openstack/userdocs/Creating-an-Instance-with-a-Specific-Fixed-IP/">Instanz mit bestimmter fester IP-Adresse erstellen</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/openstack/userdocs/Mitaka_CLI_notes/">Anmerkungen zur Befehlszeilenschnittstelle von OpenStack Mitaka</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/openstack/userdocs/Why-Choose-OpenStack/">Warum sollten Sie sich für OpenStack entscheiden?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/openstack/userdocs/openstack-storage-concepts/">OpenStack-Speicherkonzepte</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/openstack/userdocs/Ursula_and_OpenStack/">Ursula und OpenStack</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/openstack/userdocs/Creating_Instances_With_Static_IP/">Instanz mit statischer IP-Adresse erstellen</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/openstack/userdocs/quotas/">Kontingente</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/openstack/userdocs/How_to_Isolate_Tenants/">Tenants (Projekte) isolieren</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/openstack/userdocs/external-reference-material/">Externes Referenzmaterial</a>
          </li>
          
        
        <li><a href="" class="page-link view">View More ( 3 )</a></li>
      </ul>

      <ul  class="article__list slide-up-hidden" >
        <h5 class="sub__head">API</h5>
        
        
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/openstack/api/floating-ip-address/">Variable IP-Adresse mit der OpenStack-API erstellen</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/openstack/api/openstack-api-getting-started/">Erste Schritte mit der OpenStack-API</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/openstack/api/OpenStack_Client_Versions/">Voraussetzungen für die OpenStack-Clientversionen</a>
              </li>
            
          
        
        <li><a href="" class="page-link view">View More ( 1 )</a></li>
      </ul>
    </li>




    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/de/horizon">Horizon [GUI] (10)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/de/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/horizon/creating-additional-networks-with-horizon/">In der Horizon-Anzeige zusätzliche Netze in OpenStack erstellen</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/horizon/Making_Snapshots_in_Horizon/">Horizon für Momentaufnahmen verwenden</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/horizon/allocate-floating-ip/">Öffentliche (variable) IP-Adresse reservieren und einer Instanz zuordnen</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/horizon/create-volume-from-horizon/">Datenträger über das Horizon-Dashboard erstellen</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/horizon/horizon-for-administrators/">Horizon für Administratoren</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/horizon/launch-instance-from-horizon/">Instanz über das Horizon-Dashboard starten</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/horizon/launch-instance-from-horizon_newton/">Instanz über das Horizon-Dashboard starten (OpenStack Newton-Release)</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/horizon/set-reverse-dns/">Wie definiere ich einen Reverse-DNS-Datensatz (PTR) für eine IBM Bluemix Private Cloud-Instanz?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/horizon/using-horizon/">Horizon verwenden</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/horizon/Horizon_troubleshooting_FAQ/">Häufig gestellte Fragen zur Fehlerbehebung in Horizon</a>
          </li>
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/de/nova">Nova [Compute] (13)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/de/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/nova/windows-user-and-password/">Wie konfiguriere ich einen anfänglichen Benutzernamen und das zugehörige Kennwort in einer Windows-Instanz in OpenStack?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/nova/nova_live_migration/">Instance Live Migration</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/nova/CLI-create-public-instance/">Instanz erstellen und über die Befehlszeile öffentlich zur Verfügung stellen</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/nova/Nova_boot_speed/">Was passiert im Hintergrund, wenn ich eine virtuelle Maschine boote, und wie kann ich den Bootvorgang beschleunigen?</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/nova/Restrict_Floating_IP/">Wie kann ich variable IP-Adressen beschränken?</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/nova/config_drive_for_instances/">Kann ich eine Instanz erstellen und dieser über das Konfigurationslaufwerk Dateien hinzufügen?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/nova/create-vm-with-volumes/">Wie kann ich eine Instanz mit dem Nova-Befehlszeilenclient erstellen?</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/nova/define-flavor-vcpu/">Wie kann ich die vCPU-Topologie für eine Variante definieren?</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/nova/deploy-to-specific-hypervisor/">How to deploy an instance to a specific hypervisor node</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/nova/maximum-flavor-spec/">Welches sind die maximalen Spezifikationen für eine Variante?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/nova/migrate-instance/">Instanz in eine neue Cloud migrieren</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/nova/Metadata_service_FAQ/">Metadatenservice in OpenStack Neutron und Nova</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/nova/hypervisor-statistics/">Wie kann ich Hypervisorstatistiken abrufen?</a>
          </li>
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/de/neutron">Neutron [Networking] (22)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/de/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/network_ip_availability/">Wie kann ich die IP-Verfügbarkeit meines Netzes prüfen?</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/isolatetwoprojectnetworksconnectedtoonesharedrouter/">Wie können Sie Projektnetze isolieren, die mit einem gemeinsam genutzten Router verbunden sind?</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/time-ip-associated-with-instance/">Wie kann ich den Zeitpunkt ermitteln, zu dem einer Instanz eine variable IP-Adresse zugeordnet bzw. zu dem die Zuordnung aufgehoben wurde?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/Load_Balancing_Methods/">Lastausgleichsmethoden</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/Multi-tier_Router_Configuration/">Mehrschichtige Routerkonfiguration in IBM Bluemix Private Cloud</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/set-up-dns-records/">Wie konfiguriere ich DNS-Datensätze, die auf OpenStack-Instanzen verweisen?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/routing_internal_traffic_between_projects/">Internen Datenverkehr zwischen Projekten weiterleiten</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/add-ip-to-instance/">Bestimmte feste private IP-Adresse zu einer Instanz hinzufügen</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/configure-dns.for-instances/">DNS für Instanzen konfigurieren</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/configure-multi-nics/">Mehrere Netzschnittstellen für eigene Cloud-Images konfigurieren</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/configure-ha-ip/">Hoch verfügbare IP-Adresse konfigurieren</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/creating-virtual-networks/">Virtuelle Netze in IBM Bluemix Private Cloud erstellen</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/when_create_port_fails/">When creating port failed, how could I do ?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/How_Can_I_See_My_IPs/">Wie kann ich meine IP-Adressen anzeigen?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/How_to_update_DNS/">Wie kann ich das DNS aktualisieren?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/vpn-vlan-directlink/">VPN, VLAN und Direct Link</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/BYOFIP_support/">BYOFIP-Konnektivität zwischen IBM Bluemix Private Cloud und einer Kundensite verwenden</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/Intro_to_LBaaS/">Einführung in Load Balancer as a Service (LBaaS)</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/Security_groups_CLI/">CLI zum Einrichten von Sicherheitsgruppen verwenden</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/Network_Use_Cases_White_Paper/">Anwendungsfälle für IBM Blue Box Network</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/neutron/Where_Are_These_IPs/">Wo sind die ersten beiden IP-Adressen?</a>
              </li>
            
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/de/glance">Glance [Images] (6)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/de/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/glance/FAQ_Working_with_Windows_Images/">Häufig gestellte Fragen zur Arbeit mit Windows-Images</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/glance/compatible-glance-images/">Gibt es eine Liste offizieller OpenStack-kompatibler Images, die Ich für Glance herunterladen kann? (CentOS, Ubuntu usw.)</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/glance/disk-capacity-constraints/">Plattenkapazitätsbeschränkungen</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/glance/Image_Properties_on_Power/">Optimale Einstellungen für Glance-Images auf Power-Rechenknoten</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/glance/imagesnapshot/">Unterschied zwischen Image und Momentaufnahme</a>
              </li>
            
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/de/cinder">Cinder [Block Storage] (13)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/de/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/cinder/read-only-cinder-error/">Was verursacht einen Schreibschutz bei Cinder-Datenträgern und wie wird dieser aufgehoben?</a>
          </li>
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/cinder/cinder-volume-stuck/">Cinder-Datenträger blockiert</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/cinder/alternative_method_for_volume_encryption/">Alternative Methode für Blockspeicherdatenträgerverschlüsselung (mit Ubuntu-VM-Gastmaschine)</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/cinder/Bug_Creating_Encrypted_Volumes/">Erstellung verschlüsselter Datenträger mit Cinder wird nicht unterstützt</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/cinder/Managing_block_storage/">Blockspeicher verwalten</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/cinder/cli-create-volume/">Datenträger über die Befehlszeile erstellen</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/cinder/create-volume-from-snapshot/">Wird das Erstellen eines Datenträgers aus einer Instanzmomentaufnahme unterstützt?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/cinder/resize_cinder_volume/">Wie wird die Größe eines Cinder-Datenträgers geändert?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/cinder/supported_volume_types/">Welche Cinder-Datenträgertypen werden in der Cloudinstanz unterstützt?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/cinder/Ephemeral_to_Cinder/">Ephemeren Datenträger in den Cinder-Speicher verschieben</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/cinder/volume_clone/">Can I enable volume full clone more than copy-on-write clone?</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/cinder/Force_snapshot_on_attached_volume/">Momentaufnahme auf einem angehängtem Datenträger erzwingen</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/cinder/cinder-failed-connection-error/">Vorgehensweise, wenn der Cinder-Client die Nachricht 'ERROR: Unable to establish connection' zurückgibt und die Verbindung fehlschlägt</a>
              </li>
            
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/de/keystone">Keystone [Identity] (8)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/de/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/keystone/oidc-federation/">OpenID Connect-Föderation in IBM Bluemix Private Cloud</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/keystone/saml-federation/">Keystone-SAML-Föderation in IBM Bluemix Private Cloud</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/keystone/RBAC_Definitions/">Rollenbasierte Zugriffssteuerung</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/keystone/Managing_Users_and_Projects/">Benutzer und Projekte verwalten</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/keystone/k2k-federation/">K2K-Föderation in IBM Bluemix Private Cloud</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/keystone/tenants-security-groups-keystone/">Projekte und Sicherheitsgruppen</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/keystone/custom-domains-keystone/">Domänen in Keystone V3 anpassen</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/keystone/Getting_Started_with_K2K_Identity/">Erste Schritte mit Keystone Federated Identity</a>
          </li>
          
        
      </ul>
    </li>

    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/de/heat">Heat [Orchestration] (7)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/de/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/heat/Getting_Started_With_Heat/">Erste Schritte mit Heat-Vorlagen</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/heat/autoscaling-with-heat/">Heat für automatische Skalierung verwenden</a>
              </li>
            
          
        
          
          <li>
              <a class="page-link" href="/tyying/help-documentation-staging-area/de/heat/Deploying_apps_with_UCD/">Anwendungen mit IBM UrbanCode Deploy und IBM Bluemix Private Cloud bereitstellen</a>
          </li>
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/heat/using_heat_for_load_balancer/">Heat für die Bereitstellung von Servern mit einem Load Balancer verwenden</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/heat/using-ucd-ucdp/">IBM UrbanCode Deploy mit IBM Bluemix Private Cloud verwenden</a>
              </li>
            
          
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/heat/using_heat_for_deployment/">Heat mit einem selbst signierten Zertifikat verwenden</a>
              </li>
            
          
        
      </ul>
    </li>


    <li>
      <h3 class="title">
        <a  class="page-link"  href="/tyying/help-documentation-staging-area/de/ceilometer">Ceilometer [Telemetry] (1)</a>
        <a href=""  class="expand rotate" ><img src="/tyying/help-documentation-staging-area/img/de/arrow.svg" /></a>
      </h3>
      <ul  class="article__list slide-up-hidden" >
        
        
        
          
            
            
              <li class="non-featured">
                  <a class="page-link" href="/tyying/help-documentation-staging-area/de/ceilometer/compatible-glance-images/">Wird das Erstellen eines Datenträgers aus einer Instanzmomentaufnahme unterstützt?</a>
              </li>
            
          
        
      </ul>
    </li>

  </ul>
</div>


<article>

  <div class="page-container">

    <div class="main-content">
      <header class="post-header">

        <h1 class="post-title">
        

        

        OpenVPN-Server in einer Instanz konfigurieren

        
        </h1>




        
        <div class="post-data">
          <img src='/tyying/help-documentation-staging-area/img/de/avatar.png' />
          <ul class="author--info">
            <li>
              <span class="author">by Jason Kennedy </span>
              <span class="dot">&#9679;</span>
              <span class="date"> 7. Januar 2016</span>
            </li>
            <li>
              <span class="job-title"></span>
            </li>
            <li class="tags">
              
                <h4>Tags:</h4>
                  <ul class="tag--list">
                  
                    <li class="tag"><p>getting started</p></li>
                  
                    <li class="tag"><p>erste Schritte</p></li>
                  
                    <li class="tag"><p>OpenVPN konfigurieren</p></li>
                  
                  </ul>
              
            </li>
          </ul>
        </div>
        
      </header>

      <div class="post-content">
        <p>Wenn Sie Verbindungen zu Ihren internen Bluemix Private Cloud-Instanzen herstellen müssen, aber keine verfügbaren variablen IP-Adressen haben, oder wenn Sie es bevorzugen, diese virtuellen Maschinen nicht im Internet bereitzustellen, können Sie einen so genannten Bastionshost einrichten, auf dem OpenVPN ausgeführt wird. Über diesen Host können Sie dann eine Verbindung zu Ihrem internen Netz herstellen. In diesem Artikel lernen Sie, wie Sie Ihren OpenVPN-Server und -Client installieren und für die Verbindung konfigurieren.
Angenommen, Sie führen bereits eine virtuelle Maschine aus, der eine variable IP-Adresse zugeordnet ist. Es wird nicht näher auf die Konfiguration von ufw oder Linux-Details eingegangen. Es werden ausschließlich die Konfiguration und die Verwendung von OpenVPN in einer in OpenStack gehosteten Instanz beschrieben. Für dieses Beispiel wird Ubuntu 14.04 verwendet.</p>

<p>Führen Sie die folgenden Schritte für Ihre serverseitige Konfiguration aus.</p>

<h2 id="schritt-1---openvpn-konfiguration">Schritt 1 - OpenVPN-Konfiguration</h2>

<p>Vor der Installation von Paketen werden die Repository-Listen von Ubuntu aktualisiert.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">apt-get update</code></pre></figure>

<p>Anschließend können OpenVPN und Easy RSA installiert werden.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">apt-get install openvpn easy-rsa</code></pre></figure>

<p>Die Beispielkonfigurationsdatei für den VPN-Server muss nach <code class="highlighter-rouge">/etc/openvpn</code> extrahiert werden, damit diese in die Konfiguration eingebunden werden kann. Die Datei kann mit dem folgenden Befehl extrahiert werden:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">gunzip -c /usr/share/doc/openvpn/examples/sample-config-files/server.conf.gz &gt; /etc/openvpn/server.conf</code></pre></figure>

<p>Nach dem Extrahieren der Datei öffnen Sie die Datei <code class="highlighter-rouge">server.conf</code> in einem Texteditor. In diesem Lerntext wird <strong>Vim</strong> verwendet, aber Sie können auch einen anderen Editor verwenden.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">vim /etc/openvpn/server.conf</code></pre></figure>

<p>In dieser Datei müssen verschiedene Änderungen vorgenommen werden. Die Datei enthält einen Abschnitt wie den folgenden:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Diffie hellman parameters.
</span>
<span class="c"># Generate your own with:
</span>
<span class="c">#   openssl dhparam -out dh1024.pem 1024
</span>
<span class="c"># Substitute 2048 for 1024 if you are using
</span>
<span class="c"># 2048 bit keys.
</span>
dh dh1024.pem</code></pre></figure>

<p>Ändern Sie <code class="highlighter-rouge">dh1024.pem</code> in <code class="highlighter-rouge">dh2048.pem</code></p>

<p>Durch diese Änderung wird die Länge des beim Generieren der Server- und Clientschlüssel verwendeten RSA-Schlüssels verdoppelt.</p>

<p>Suchen Sie in der Datei <code class="highlighter-rouge">server.conf</code> nach dem folgenden Abschnitt:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># If enabled, this directive will configure
</span>
<span class="c"># all clients to redirect their default
</span>
<span class="c"># network gateway through the VPN, causing
</span>
<span class="c"># all IP traffic such as web browsing and
</span>
<span class="c"># and DNS lookups to go through the VPN
</span>
<span class="c"># (The OpenVPN server machine may need to NAT
</span>
<span class="c"># or bridge the TUN/TAP interface to the internet
</span>
<span class="c"># in order for this to work properly).
</span>
;push <span class="s2">"redirect-gateway def1 bypass-dhcp"</span></code></pre></figure>

<p>Entfernen Sie das Kommentarzeichen für <code class="highlighter-rouge">push "redirect-gateway def1 bypass-dhcp"</code>, sodass der VPN-Server den Webdatenverkehr von Clients an das entsprechende Ziel weiterleitet. Die Zeile sollte anschließend wie folgt aussehen:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">push <span class="s2">"redirect-gateway def1 bypass-dhcp"</span></code></pre></figure>

<p>Als Nächstes müssen Sie den folgenden Bereich der Datei bearbeiten:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Certain Windows-specific network settings
</span>
<span class="c"># can be pushed to clients, such as DNS
</span>
<span class="c"># or WINS server addresses.  CAVEAT:
</span>
<span class="c"># http://openvpn.net/faq.html#dhcpcaveats
</span>
<span class="c"># The addresses below refer to the public
</span>
<span class="c"># DNS servers provided by opendns.com.
</span>
;push <span class="s2">"dhcp-option DNS 208.67.222.222"</span>
;push <span class="s2">"dhcp-option DNS 208.67.220.220"</span></code></pre></figure>

<p>Entfernen Sie das Kommentarzeichen für <code class="highlighter-rouge">push "dhcp-option DNS 208.67.222.222"</code> und <code class="highlighter-rouge">push "dhcp-option DNS 208.67.220.220"</code>. Die Einträge sollten anschließend wie folgt aussehen:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">push <span class="s2">"dhcp-option DNS 208.67.222.222"</span>
push <span class="s2">"dhcp-option DNS 208.67.220.220"</span></code></pre></figure>

<p>Dieser Eintrag teilt dem Server mit, <strong>OpenDNS</strong> zur DNS-Auflösung mit einer Push-Operation an verbundene Clients zu übertragen, sofern möglich. Durch die Push-Operation kann verhindert werden, dass DNS-Anforderungen außerhalb der VPN-Verbindung öffentlich werden. Es ist jedoch auch wichtig, die gewünschten DNS-Resolver in Clientgeräten anzugeben. <strong>OpenDNS</strong> ist zwar die von <strong>OpenVPN</strong> verwendete Standardeinstellung, aber Sie können auch die von Ihnen bevorzugten DNS-Services verwenden.</p>

<p>Der letzte zu ändernde Bereich in der Datei <code class="highlighter-rouge">server.conf</code> ist der folgende:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># You can uncomment this out on
</span>
<span class="c"># non-Windows systems.
</span>
;user nobody
;group nogroup</code></pre></figure>

<p>Entfernen Sie das Kommentarzeichen für <code class="highlighter-rouge">user nobody</code> und <code class="highlighter-rouge">group nogroup</code>. Der Eintrag sollte anschließend wie folgt aussehen:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">user nobody
group nogroup</code></pre></figure>

<p><strong>OpenVPN</strong> wird standardmäßig unter dem Rootbenutzer ausgeführt und hat somit uneingeschränkten Rootzugriff auf das System. Beschränken Sie <strong>OpenVPN</strong> auf <code class="highlighter-rouge">user nobody</code> und <code class="highlighter-rouge">group nogroup</code>, einen nicht privilegierten Benutzer ohne Standardanmeldefunktionen, der häufig für die Ausführung nicht vertrauenswürdiger Anwendungen wie Internetdiensten reserviert ist.</p>

<p>Speichern Sie Ihre Änderungen und beenden Sie <strong>Vim</strong>.</p>

<h3 id="paketweiterleitung">Paketweiterleitung</h3>

<p>Sie benötigen eine <code class="highlighter-rouge">sysctl</code>-Einstellung, die dem Kernel des Servers mitteilt, Datenverkehr von Clientgeräten an das Internet weiterzuleiten. Andernfalls wird der Datenverkehr am Server gestoppt. Aktivieren Sie die Paketweiterleitung zur Laufzeit mit dem folgenden Befehl:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">echo </span>1 &gt; /proc/sys/net/ipv4/ip_forward</code></pre></figure>

<p>Diese Weiterleitung muss jetzt permanent definiert werden, damit der Server auch nach dem Warmstart Datenverkehr weiterleitet.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">vim /etc/sysctl.conf</code></pre></figure>

<p>Am Anfang der Datei <code class="highlighter-rouge">sysctl</code> sehen Sie Folgendes:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Uncomment the next line to enable packet forwarding for IPv4
</span>
<span class="c">#net.ipv4.ip_forward=1</span></code></pre></figure>

<p>Entfernen Sie das Kommentarzeichen für net.ipv4.ip_forward. Die Zeile sollte anschließend wie folgt aussehen:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Uncomment the next line to enable packet forwarding for IPv4
</span>
net.ipv4.ip_forward<span class="o">=</span>1</code></pre></figure>

<p>Speichern Sie Ihre Änderungen und beenden Sie <strong>Vim</strong>.</p>

<h3 id="uncomplicated-firewall-ufw">Uncomplicated Firewall (ufw)</h3>

<p><code class="highlighter-rouge">ufw</code> ist ein Front-End für iptables. Die Konfiguration von <code class="highlighter-rouge">ufw</code> ist nicht schwierig. ufw ist in Ubuntu 14.04 standardmäßig enthalten. Deshalb müssen Sie nur ein paar Änderungen an Regeln und Konfiguration vornehmen und dann die Firewall aktivieren. Referenzinformationen zu weiteren Verwendungsmöglichkeiten von <code class="highlighter-rouge">ufw</code> finden Sie unter <strong>How To Set up a Firewall with UFW on an Ubuntu and Debian Cloud Server</strong>.</p>

<p>Setzen Sie <code class="highlighter-rouge">ufw</code> zunächst so, dass SSH zugelassen wird. Geben Sie Folgendes an der Eingabeaufforderung ein:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ufw allow ssh</code></pre></figure>

<p>In diesem Lerntext wird <strong>OpenVPN</strong> über UDP verwendet, deshalb muss ufw auch UDP-Datenverkehr über Port 1194 zulassen.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ufw allow 1194/udp</code></pre></figure>

<p>Die <code class="highlighter-rouge">ufw</code>-Weiterleitungsrichtlinie muss ebenfalls definiert werden. Diese Definition wird in der primären Konfigurationsdatei von ufw vorgenommen.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">vim /etc/default/ufw</code></pre></figure>

<p>Suchen Sie nach <code class="highlighter-rouge">DEFAULT_FORWARD_POLICY="DROP"</code>. Dieser Eintrag muss von <code class="highlighter-rouge">DROP</code> in <code class="highlighter-rouge">ACCEPT</code> geändert werden. Der Eintrag sollte anschließend wie folgt aussehen:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">DEFAULT_FORWARD_POLICY</span><span class="o">=</span><span class="s2">"ACCEPT"</span></code></pre></figure>

<p>Als Nächstes müssen Sie weitere <code class="highlighter-rouge">ufw</code>-Regeln für die Netzadressumsetzung (NAT) und die IP-Maskierung verbundener Clients hinzufügen.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">vim /etc/ufw/before.rules</code></pre></figure>

<p>Gestalten Sie den Anfang Ihrer Datei <code class="highlighter-rouge">before.rules</code> wie im folgenden Beispiel. Der Bereich in Rot für <code class="highlighter-rouge">OPENVPN RULES</code> muss hinzugefügt werden:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c">#
</span>
<span class="c"># rules.before
</span>
<span class="c">#
</span>
<span class="c"># Rules that should be run before the ufw command line added rules. Custom
</span>
<span class="c"># rules should be added to one of these chains:
</span>
<span class="c">#   ufw-before-input
</span>
<span class="c">#   ufw-before-output
</span>
<span class="c">#   ufw-before-forward
</span>
<span class="c">#
</span>

<span class="c"># START OPENVPN RULES
</span>
<span class="c"># NAT table rules
</span>
<span class="k">*</span>nat
:POSTROUTING ACCEPT <span class="o">[</span>0:0]
<span class="c"># Allow traffic from OpenVPN client to eth0
</span>
-A POSTROUTING -s 10.8.0.0/8 -o eth0 -j MASQUERADE
COMMIT
<span class="c"># END OPENVPN RULES
</span>

<span class="c"># Don't delete these required lines, otherwise there will be errors
</span>
<span class="k">*</span>filter</code></pre></figure>

<p>Nachdem Sie die Änderungen an <code class="highlighter-rouge">ufw</code> vorgenommen haben, kann die Aktivierung erfolgen. Geben Sie Folgendes an der Eingabeaufforderung ein:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ufw <span class="nb">enable</span></code></pre></figure>

<p>Nach der Aktivierung von <code class="highlighter-rouge">ufw</code> wird die folgende Eingabeaufforderung zurückgegeben:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Command may disrupt existing ssh connections. Proceed with operation <span class="o">(</span>y|n<span class="o">)</span>?</code></pre></figure>

<p>Antworten Sie mit <code class="highlighter-rouge">y</code>. Als Ergebnis wird die folgende Ausgabe angezeigt:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Firewall is active and enabled on system startup</code></pre></figure>

<p>Überprüfen Sie die primären Firewallregeln von ufw mit dem folgenden Befehl:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ufw status</code></pre></figure>

<p>Der Statusbefehl sollte die folgenden Ergebnisse zurückgeben:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Status: active

To                         Action      From
--                         ------      ----
22                         ALLOW       Anywhere
1194/udp                   ALLOW       Anywhere
22 <span class="o">(</span>v6<span class="o">)</span>                    ALLOW       Anywhere <span class="o">(</span>v6<span class="o">)</span>
1194/udp <span class="o">(</span>v6<span class="o">)</span>              ALLOW       Anywhere <span class="o">(</span>v6<span class="o">)</span></code></pre></figure>

<h2 id="schritt-2---zertifizierungsstelle-und-serverseitiges-zertifikat--zugehörigen-schlüssel-erstellen">Schritt 2 - Zertifizierungsstelle und serverseitiges Zertifikat &amp; zugehörigen Schlüssel erstellen</h2>

<p><strong>OpenVPN</strong> verwendet Zertifikate, um Datenverkehr zu verschlüsseln.</p>

<h3 id="zertifizierungsstelle-konfigurieren-und-erstellen">Zertifizierungsstelle konfigurieren und erstellen</h3>

<p>Jetzt ist es an der Zeit, eine eigene Zertifizierungsstelle (CA, Certificate Authority) zu konfigurieren und ein Zertifikat und einen Schlüssel für den <strong>OpenVPN</strong>-Server zu generieren. <strong>OpenVPN</strong> unterstützt die bidirektionale Authentifizierung auf der Basis von Zertifikaten, d. h., der Client muss das Serverzertifikat authentifizieren und der Server muss das Clientzertifikat authentifizieren, bevor das gegenseitige Vertrauen etabliert ist. Hierfür verwenden Sie die Easy RSA-Scripts, die Sie zuvor kopiert haben.</p>

<p>Kopieren Sie zuerst die Easy RSA-Generierungsscripts.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">cp -r /usr/share/easy-rsa/ /etc/openvpn</code></pre></figure>

<p>Erstellen Sie anschließend das Schlüsselspeicherverzeichnis.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">mkdir /etc/openvpn/easy-rsa/keys</code></pre></figure>

<p>Easy RSA hat eine Variablendatei, die Sie editieren können, um Zertifikate ausschließlich für Ihre Person, Ihr Geschäft bzw. die von Ihnen ausgewählte Entität zu erstellen. Diese Informationen werden in die Zertifikate und Schlüssel kopiert, um die Schlüssel später einfacher identifizieren zu können.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">vim /etc/openvpn/easy-rsa/vars</code></pre></figure>

<p>Die folgenden Variablen müssen Sie entsprechend Ihren Präferenzen ändern.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">export </span><span class="nv">KEY_COUNTRY</span><span class="o">=</span><span class="s2">"US"</span>
<span class="nb">export </span><span class="nv">KEY_PROVINCE</span><span class="o">=</span><span class="s2">"TX"</span>
<span class="nb">export </span><span class="nv">KEY_CITY</span><span class="o">=</span><span class="s2">"Dallas"</span>
<span class="nb">export </span><span class="nv">KEY_ORG</span><span class="o">=</span><span class="s2">"My Company Name"</span>
<span class="nb">export </span><span class="nv">KEY_EMAIL</span><span class="o">=</span><span class="s2">"sammy@example.com"</span>
<span class="nb">export </span><span class="nv">KEY_OU</span><span class="o">=</span><span class="s2">"MYOrganizationalUnit"</span></code></pre></figure>

<p>In derselben Variablendatei müssen Sie auch die folgende einzelne Zeile ändern. Der Einfachheit halber wird für dieses Beispiel ‘server’ als Schlüsselname verwendet. Wenn Sie einen anderen Namen verwenden möchten, müssen Sie auch die <strong>OpenVPN</strong>-Konfigurationsdateien aktualisieren, die auf <code class="highlighter-rouge">server.key</code> und <code class="highlighter-rouge">server.crt</code> verweisen.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">export </span><span class="nv">KEY_NAME</span><span class="o">=</span><span class="s2">"server"</span></code></pre></figure>

<p>Jetzt müssen die Diffie-Hellman-Parameter generiert werden. Dies kann einige Minuten dauern.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">openssl dhparam -out /etc/openvpn/dh2048.pem 2048</code></pre></figure>

<p>Jetzt wechseln Sie das Verzeichnis, sodass Sie direkt in dem Verzeichnis arbeiten, in das Sie die Easy RSA-Scripts weiter vorne in Schritt 2 kopiert haben.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd</span> /etc/openvpn/easy-rsa</code></pre></figure>

<p>Initialisieren Sie PKI (Public Key Infrastructure). Achten Sie auf den Punkt (.) und das Leerzeichen vor <code class="highlighter-rouge">./varscommand</code>. Der Punkt und das Leerzeichen bezeichnen das aktuelle Arbeitsverzeichnis (Quelle).</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">. ./vars</code></pre></figure>

<p>Die Ausgabe des vorherigen Beispiels sehen Sie im Folgenden. Da Sie noch keine Elemente im Schlüsselverzeichnis generiert haben, können Sie die Warnung beruhigt ignorieren.</p>

<p>Anmerkung: Wenn Sie <code class="highlighter-rouge">./clean-all</code> ausführen, wird <code class="highlighter-rouge">rm -rf</code> für <code class="highlighter-rouge">/etc/openvpn/easy-rsa/keys</code> ausgeführt.
Jetzt werden alle möglicherweise alten Schlüssel oder Beispielschlüssel aus dem Arbeitsverzeichnis gelöscht, um Platz für neue zu schaffen.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">./clean-all</code></pre></figure>

<p>Dieser letzte Befehl erstellt die Zertifizierungsstelle durch Aufruf eines interaktiven <strong>OpenSSL</strong>-Befehls. In der Ausgabe werden Sie aufgefordert, die DN-Variablen zu bestätigen, die Sie zuvor in der Easy RSA-Variablendatei eingegeben haben (Landesname, Organisation usw.).</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">./build-ca</code></pre></figure>

<p>Drücken Sie an den einzelnen Eingabeaufforderungen einfach die Eingabetaste. Wenn Sie irgendetwas ändern müssen, können Sie dies an der jeweiligen Eingabeaufforderung tun.</p>

<h3 id="zertifikat-und-schlüssel-für-den-server-generieren">Zertifikat und Schlüssel für den Server generieren</h3>

<p>Geben Sie jetzt im Verzeichnis <code class="highlighter-rouge">/etc/openvpn/easy-rsa</code> den Befehl zum Erstellen des Serverschlüssels ein. Bei der rot markierten Angabe ‘server’ handelt es sich um die Variable <code class="highlighter-rouge">KEY_NAME</code>, die Sie zuvor in Schritt 2 in der Variablendatei von Easy RSA gesetzt haben.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">./build-key-server server</code></pre></figure>

<p>Eine ähnliche Ausgabe wird generiert, wenn Sie <code class="highlighter-rouge">./build-ca</code> ausführen. Auch hier können Sie einfach die Eingabetaste drücken, um die einzelnen DN-Zeilen zu bestätigen. Dieses Mal gibt es jedoch zwei zusätzliche Eingabeaufforderungen:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Please enter the following <span class="s1">'extra'</span> attributes
to be sent with your certificate request
A challenge password <span class="o">[]</span>:

An optional company name <span class="o">[]</span>:</code></pre></figure>

<p>Beide Angaben sollten leer bleiben. Drücken Sie deshalb jeweils einfach die Eingabetaste.</p>

<p>Zwei weitere Abfragen am Ende erfordern eine positive Antwort (<code class="highlighter-rouge">y</code>):</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Sign the certificate? <span class="o">[</span>y/n]
1 out of 1 certificate requests certified, commit? <span class="o">[</span>y/n]</code></pre></figure>

<p>Die letzte Eingabeaufforderung muss wie folgt abgeschlossen werden:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Write out database with 1 new entries
Data Base Updated</code></pre></figure>

<h3 id="serverzertifikate-und--schlüssel-verschieben">Serverzertifikate und -schlüssel verschieben</h3>

<p>OpenVPN erwartet die Zertifizierungsstelle, das Zertifikat und den Schlüssel des Servers in <code class="highlighter-rouge">/etc/openvpn</code>. Kopieren Sie diese an die richtige Position.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">cp /etc/openvpn/easy-rsa/keys/<span class="o">{</span>server.crt,server.key,ca.crt<span class="o">}</span> /etc/openvpn</code></pre></figure>

<p>Mit dem folgenden Befehl können Sie überprüfen, ob die Kopieroperation erfolgreich war:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ls /etc/openvpn</code></pre></figure>

<p>Sie sollten die Zertifikats- und Schlüsseldateien für den Server sehen.</p>

<p>Jetzt ist der <strong>OpenVPN</strong>-Server einsatzbereit. Starten Sie den Server und überprüfen Sie dessen Status.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">service openvpn start
service openvpn status</code></pre></figure>

<p>Der Statusbefehl sollte das folgende Ergebnis zurückgeben:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">VPN <span class="s1">'server'</span> is running</code></pre></figure>

<p>Glückwunsch! Ihr OpenVPN-Server ist betriebsbereit.</p>

<p>Wenn in der Statusnachricht angegeben wird, dass VPN nicht aktiv ist, suchen Sie in der Datei<code class="highlighter-rouge">/var/log/syslog</code> nach Fehlern wie den folgenden:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Options error: --key fails with <span class="s1">'server.key'</span>: No such file or directory</code></pre></figure>

<p>Dieser Fehler zeigt an, dass die Datei <code class="highlighter-rouge">server.key</code> nicht ordnungsgemäß nach <code class="highlighter-rouge">/etc/openvpn</code> kopiert wurde. Kopieren Sie die Datei erneut und wiederholen Sie die Operation.</p>

<h2 id="schritt-3---zertifikate-und-schlüssel-für-clients-generieren">Schritt 3 - Zertifikate und Schlüssel für Clients generieren</h2>

<p>Bisher haben Sie den <strong>OpenVPN</strong>-Server installiert und konfiguriert, eine Zertifizierungsstelle erstellt und das Zertifikat und den Schlüssel des Servers erstellt. In diesem Schritt verwenden Sie die Zertifizierungsstelle des Servers, um Zertifikate und Schlüssel für jedes der Clientgeräte zu generieren, die eine Verbindung zum VPN herstellen. Diese Dateien werden später auf den Clientgeräten, wie z. B. Laptops oder Smartphones, installiert.</p>

<h3 id="erstellung-von-schlüsseln-und-zertifikaten">Erstellung von Schlüsseln und Zertifikaten</h3>

<p>Idealerweise hat jeder Client, der eine Verbindung zum VPN herstellt, sein eigenes eindeutiges Zertifikat und seinen eigenen eindeutigen Schlüssel. Dieses Setup ist das bevorzugte Setup für die Generierung eines einzigen allgemeinen Zertifikats mit zugehörigem Schlüssel für alle Clientgeräte.</p>

<p><strong>Anmerkung:</strong> Standardmäßig lässt <strong>OpenVPN</strong> gleichzeitige Verbindungen von Clients mit derselben Zertifikat/Schlüssel-Kombination zum Server nicht zu. (Siehe <code class="highlighter-rouge">duplicate-cn</code> in der Datei <code class="highlighter-rouge">/etc/openvpn/server.conf</code>.)</p>

<p>Zum Erstellen separater Authentifizierungsnachweise für jedes Gerät, das Sie mit dem VPN verbinden möchten, müssen Sie diesen Schritt für jedes Gerät ausführen, aber jeweils den folgenden Namen <code class="highlighter-rouge">client1</code> in einen anderen Wert ändern, wie z. B. <code class="highlighter-rouge">client2</code> oder <code class="highlighter-rouge">iphone2</code>. Mit separaten Berechtigungsnachweisen für jedes Gerät können die Geräte später ggf. einzeln im Server inaktiviert werden. In den verbleibenden Beispielen in diesem Lerntext wird <code class="highlighter-rouge">client1</code> als Beispielname für das Clientgerät verwendet.</p>

<p>Wie zuvor beim Serverschlüssel erstellen Sie jetzt einen Schlüssel für das <code class="highlighter-rouge">client1</code>-Beispiel. Sie arbeiten weiterhin im Verzeichnis <code class="highlighter-rouge">/etc/openvpn/easy-rsa</code>.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">./build-key client1</code></pre></figure>

<p>Erneut werden Sie aufgefordert, die DN-Variablen zu ändern oder zu bestätigen. Außerdem werden die folgenden beiden Eingabeaufforderungen angezeigt, bei denen Sie jeweils die Eingabetaste drücken müssen, um die Standardwerte zu akzeptieren.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Please enter the following <span class="s1">'extra'</span> attributes
to be sent with your certificate request
A challenge password <span class="o">[]</span>:

An optional company name <span class="o">[]</span>:</code></pre></figure>

<p>Wie zuvor erfordern die folgenden beiden Bestätigungen am Ende des Erstellungsprozesses eine positive Antwort (<code class="highlighter-rouge">y</code>):</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Sign the certificate? <span class="o">[</span>y/n]
1 out of 1 certificate requests certified, commit? <span class="o">[</span>y/n]</code></pre></figure>

<p>Nach erfolgreicher Schlüsselerstellung wird die folgende Ausgabe angezeigt:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Write out database with 1 new entries
Data Base Updated</code></pre></figure>

<p>Die Beispielclientkonfigurationsdatei muss ebenfalls in das Easy RSA-Schlüsselverzeichnis kopiert werden. Diese Datei verwenden Sie als Vorlage, die Sie zur Bearbeitung auf die Clientgeräte herunterladen. Während des Kopierprozesses ändern Sie den Namen der Beispieldatei von <code class="highlighter-rouge">client.conf</code> in <code class="highlighter-rouge">client.ovpn</code>, weil die Dateierweiterung <code class="highlighter-rouge">.ovpn</code> von den Clients erwartet wird.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">cp /usr/share/doc/openvpn/examples/sample-config-files/client.conf /etc/openvpn/easy-rsa/keys/client.ovpn</code></pre></figure>

<p>Sie können diesen Abschnitt für jeden Client wiederholen. Ersetzen Sie dabei <code class="highlighter-rouge">client1</code> jeweils durch den entsprechenden Clientnamen.</p>

<h3 id="zertifikate-und-schlüssel-auf-clientgeräte-übertragen">Zertifikate und Schlüssel auf Clientgeräte übertragen</h3>

<p>In den vorherigen Schritten haben Sie die Clientzertifikate und -schlüssel erstellt, die dann auf dem <strong>OpenVPN</strong>-Server im Verzeichnis <code class="highlighter-rouge">/etc/openvpn/easy-rsa/keys</code> gespeichert wurden.</p>

<p>Jetzt müssen Sie für jeden Client die Clientzertifikats-, Clientschlüssel- und Profilvorlagendateien in einen Ordner auf Ihrem lokalen Computer oder auf einem anderen Clientgerät übertragen.</p>

<p>In diesem Beispiel müssen das Zertifikat und der Schlüssel für das Gerät <code class="highlighter-rouge">client1</code> auf dem Server an der folgenden Position gespeichert werden:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">/etc/openvpn/easy-rsa/keys/client1.crt
/etc/openvpn/easy-rsa/keys/client1.key</code></pre></figure>

<p>Die Dateien <code class="highlighter-rouge">ca.crt</code> und <code class="highlighter-rouge">client.ovpn</code> sind für alle Clients dieselben. Laden Sie diese beiden Dateien ebenfalls herunter. Beachten Sie, dass sich die Datei <code class="highlighter-rouge">ca.crt</code> in einem anderen Verzeichnis als die anderen Dateien befindet.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">/etc/openvpn/easy-rsa/keys/client.ovpn
/etc/openvpn/ca.crt</code></pre></figure>

<p>Während sich die genauen Anwendungen, die für diese Übertragung verwendet werden, nach Ihrer Wahl und nach dem Betriebssystem des Geräts richten, können Sie in der Anwendung auf dem Back-End SFTP (SSH-Dateiübertragungsprotokoll) oder SCP (Secure Copy) verwenden. Damit werden die VPN-Authentifizierungsdateien des Clients über eine verschlüsselte Verbindung transportiert.</p>

<p>Im Folgenden sehen Sie einen SCP-Beispielbefehl mit dem <code class="highlighter-rouge">client1</code>-Beispiel. Dieser Befehl überträgt die Datei <code class="highlighter-rouge">client1.key</code> in das Verzeichnis Downloads auf dem lokalen Computer.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">scp root@your-server-ip:/etc/openvpn/easy-rsa/keys/client1.key Downloads/</code></pre></figure>

<p>Es sind verschiedene Tools und Lerntexte für die sichere Übertragung von Dateien vom Server auf einen lokalen Computer verfügbar:</p>

<p>WinSCP
SFTP für die sichere Übertragung von Dateien mit einem fernen Server verwenden
Filezilla für die sichere Übertragung und Verwaltung von Dateien auf den VPS verwenden</p>

<p>Stellen Sie am Ende dieses Abschnitt sicher, dass die folgenden vier Dateien auf dem Clientgerät vorhanden sind:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">client1.crt
client1.key
client.ovpn
ca.crt</code></pre></figure>

<h2 id="schritt-4---einheitliches-openvpn-profil-für-clientgeräte-erstellen">Schritt 4 - Einheitliches OpenVPN-Profil für Clientgeräte erstellen</h2>

<p>Es gibt mehrere Methoden für die Verwaltung von Clientdateien, aber die einfache Methode ist die Verwendung eines einheitlichen Profils. Dieses Profil wird erstellt, indem die Vorlagendatei client.ovpn modifiziert wird, um die Zertifizierungsstelle des Servers sowie das Zertifikat und den Schlüssel des Clients einzuschließen. Nach der Zusammenführung muss ausschließlich das Profil client.ovpn in die OpenVPN-Anwendung des Clients importiert werden.</p>

<p>Sie erstellen ein einzelnes Profil für das Gerät client1 auf dem lokalen Computer, auf den Sie alle Clientdateien heruntergeladen haben. Bei diesem lokalen Computer kann es sich selbst um einen Client oder lediglich um einen temporären Arbeitsbereich für die Zusammenführung der Authentifizierungsdateien handeln. Die ursprüngliche Datei client.ovpn muss dupliziert und umbenannt werden. Die exakte Vorgehensweise hierbei richtet sich nach dem Betriebssystem des lokalen Computers.</p>

<p>Anmerkung: Der Name der duplizierten Datei client.ovpn muss sich nicht auf das Clientgerät beziehen. Die clientseitige OpenVPN-Anwendung verwendet den Dateinamen als ID für die VPN-Verbindung selbst. Stattdessen sollten Sie die Datei client.ovpn entsprechend einer von Ihnen gewählten Namenskennung duplizieren, unter der das VPN dann in Ihrem Betriebssystem bekannt ist. Beispielsweise wird work.ovpn als ‘work’, school.ovpn als ‘school’ usw. identifiziert.</p>

<p>In diesem Lerntext nennen Sie die VPN-Verbindung Test1. Somit ist Test1.ovpn der Dateiname, der ab jetzt referenziert wird. Nach der Benennung der Datei müssen Sie Test1.ovpn in einem von Ihnen bevorzugten Texteditor öffnen.</p>

<p>Der erste Bereich, um den Sie sich kümmern müssen, ist der für die IP-Adresse Ihres Droplets. Ändern Sie my-server-1 am Anfang der Datei in die IP-Adresse Ihres VPN.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># The hostname/IP and port of the server.
</span>
<span class="c"># You can have multiple remote entries
</span>
<span class="c"># to load balance between the servers.
</span>
remote my-server-1 1194</code></pre></figure>

<p>Suchen Sie als Nächstes den im Folgenden gezeigten Bereich und entfernen Sie das Kommentarzeichen für <code class="highlighter-rouge">user nobody</code> und <code class="highlighter-rouge">group nogroup</code>, so wie Sie es in der Datei <code class="highlighter-rouge">server.conf</code> in Schritt 1 getan haben. Anmerkung: Dieser Schritt gilt nicht für Windows und deshalb können Sie ihn überspringen. Der Eintrag sollte anschließend wie folgt aussehen:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Downgrade privileges after initialization (non-Windows only)
</span>
user nobody
group nogroup</code></pre></figure>

<p>In dem im Folgenden gezeigten Bereich müssen die drei gezeigten Zeilen auf Kommentar gesetzt werden, damit Sie stattdessen das Zertifikat und den Schlüssel direkt in die Datei <code class="highlighter-rouge">Test1.ovpn</code> einschließen können. Der Eintrag sollte anschließend wie folgt aussehen:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># SSL/TLS parms.
</span>
<span class="c"># . . .
</span>
<span class="c">#ca ca.crt
</span>
<span class="c">#cert client.crt
</span>
<span class="c">#key client.key</span></code></pre></figure>

<p>Zum Zusammenführen der einzelnen Dateien in einem einzigen einheitlichen Profil werden die Inhalte der Dateien <code class="highlighter-rouge">ca.crt</code>, <code class="highlighter-rouge">client1.crt</code> und <code class="highlighter-rouge">client1.key</code> mit einer Basis-XML-ähnlichen Syntax direkt in das <code class="highlighter-rouge">.ovpn</code>-Profil eingefügt. Die XML am Ende der Datei sollte das folgende Format haben:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">&lt;ca&gt;
<span class="o">(</span>insert ca.crt here<span class="o">)</span>
&lt;/ca&gt;
&lt;cert&gt;
<span class="o">(</span>insert client1.crt here<span class="o">)</span>
&lt;/cert&gt;
&lt;key&gt;
<span class="o">(</span>insert client1.key here<span class="o">)</span>
&lt;/key&gt;</code></pre></figure>

<p>Danach sollte das Ende der Datei dem folgenden gekürzten Beispiel gleichen:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">&lt;ca&gt;
-----BEGIN CERTIFICATE-----
. . .
-----END CERTIFICATE-----
&lt;/ca&gt;

&lt;cert&gt;
Certificate:
. . .
-----END CERTIFICATE-----
. . .
-----END CERTIFICATE-----
&lt;/cert&gt;

&lt;key&gt;
-----BEGIN PRIVATE KEY-----
. . .
-----END PRIVATE KEY-----
&lt;/key&gt;</code></pre></figure>

<p>Die Datei <code class="highlighter-rouge">client1.crt</code> enthält verschiedene zusätzliche Informationen. Es ist in Ordnung, die gesamte Datei einzuschließen.</p>

<p>Speichern Sie die Änderungen und verlassen Sie den Editor. Jetzt haben Sie ein einheitliches <strong>OpenVPN</strong>-Clientprofil für die Konfiguration von <code class="highlighter-rouge">client1</code>.</p>

<p>Von nun an müssen Sie nur noch die <code class="highlighter-rouge">.ovpn</code>-Datei in den VPN-Client Ihrer Wahl importieren, unabhängig davon, ob es sich um Tunnelblick, Viscosity (beide für OSX) oder einen anderen Client handelt.</p>

<p>Bevor Sie dies testen, müssen Sie sicherstellen, dass OpenStack diesen Datenverkehr zulässt. Dazu sehen Sie sich die Instanzen an:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>nova list +--------------------------------------+----------------+--------+------------+-------------+--------------------------------------+
| ID | Name | Status | Task State | Power State | Networks | +--------------------------------------+----------------+--------+------------+-------------+--------------------------------------+
| 4f239959-be46-4fd3-963a-7c70db305d74 | jkbastion | ACTIVE | - | Running | <span class="nv">internal</span><span class="o">=</span>10.230.7.72, 173.247.105.20 | | 0d3c2002-ea02-4311-8142-b622f05407b4 | jkinternal-ssh | ACTIVE | - | Running | <span class="nv">internal</span><span class="o">=</span>10.230.7.68 | | 746e0ef8-48ee-4867-9c9d-e3d53a7e68bc | jkinternal-web | ACTIVE | - | Running | <span class="nv">internal</span><span class="o">=</span>10.230.7.69 | +--------------------------------------+----------------+--------+------------+-------------+--------------------------------------+</code></pre></figure>

<p>Von der Formatierung einmal abgesehen, die hier aus Platzgründen so dargestellt ist, gibt es 3 Instanzen: jkbastion mit einer variablen IP-Adresse und jkinternal-ssh und jkinternal-web, die offensichtlich mit Web und SSH korrelieren (auf der Web-VM wird nginx ausgeführt).</p>

<p>Sehen Sie sich auch die Sicherheitsgruppen an, um sicherzustellen, dass UDP 1194 zum Bastionshost zugelassen wird:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>nova secgroup-list
+--------------------------------------+-----------+------------------------+
| Id                                   | Name      | Description            |
+--------------------------------------+-----------+------------------------+
| 55608023-c88e-4446-b67c-b64e741df5cb | default   | default                |
| f33a4643-4440-4649-8ba6-aef09b00b7f7 | jkbastion | bastion security group |
| dcec8a37-9541-4286-a4ad-0290a44efbae |  jksec    | Jason Kennedy<span class="s1">'s shiz   |
+------------------------------ --------+-----------+------------------------+</span></code></pre></figure>

<p>Details von jkbastion:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>nova secgroup-list-rules f33a4643-4440-4649-8ba6-aef09b00b7f7
+-------------+-----------+---------+-----------+--------------+
| IP Protocol | From Port | To Port | IP Range  | Source Group |
+-------------+-----------+---------+-----------+--------------+
| tcp         | 22        | 22      | 0.0.0.0/0 |              |
| udp         | 1194      | 1194    | 0.0.0.0/0 |              |
+-------------+-----------+---------+-----------+--------------+</code></pre></figure>

<p>Damit sind Sie fertig! Mit der etablierten VPN-Verbindung sollten Sie interne virtuelle Maschinen mit den benötigten Services erreichen.</p>

      </div>
    </div>

  </div>
</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="footer__wrapper--light">

    <ul class="footer--nav">
      <li class="footer--nav__header">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud">Products</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="nav--item__link">Bluemix Private Cloud</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/private-cloud-local" class="nav--item__link">Private Cloud Local</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/private-cloud-contact-us" class="nav--item__link">Sales</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/private-cloud-faq" class="nav--item__link">FAQs</a>
      </li>
    
    </ul>

    <ul class="footer--nav">
      <li class="footer--nav__header">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud">Our Story</a>
      </li>
 <li class="footer--nav__item">
        <a href="https://github.com/blueboxgroup?cm_mc_uid=04946053248414876234663&cm_mc_sid_50200000=1489010497" class="nav--item__link">On GitHub</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://blueboxstatus.com/" class="nav--item__link">System Status</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://support.bluebox.net/" class="nav--item__link">Support</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://support.bluebox.net/" class="nav--item__link">Box Panel</a>
      </li>
    </ul>

    <ul class="footer--nav">
      <li class="footer--nav__header">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud">Resources
        </a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud">Case Studies</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="nav--item__link">Videos</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="nav--item__link">News</a>
      </li>
    </ul>

    <ul class="footer--nav">
      <li class="footer--nav__header">
        <a href="hhttps://www.ibm.com/blogs/bluemix/">Recent Blog Posts</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/blogs/bluemix/2016/07/the-power-of-openstack/" class="nav--item__link">The Power of OpenStack</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/blogs/bluemix/2016/08/blue-box-storage-models-explained/" class="nav--item__link">IBM Bluemix Private Cloud Storage Models</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.blueboxcloud.com/insight/blog-article/github-ibm-com-running-on-blue-box" class="nav--item__link">IBM Github Runs on Bluemix Private Cloud</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/blogs/bluemix/2016/10/building-up-to-openstack/" class="nav--item__link">Building up to OpenStack</a>
      </li>
      <li class="footer--nav__item">
        <a href="https://www.ibm.com/blogs/bluemix/2016/07/keystone-to-keystone-federated-identity-on-blue-box-cloud/" class="nav--item__link">Get Started with Keystone Federation</a>
      </li>
    </ul>
  </div>
  <div class="footer__wrapper--dark">
    <ul class="footer--list">
      <li class="list--item">
        <a href="https://www.facebook.com/BlueBoxGroup/" class="list--item__link">Facebook</a>
      </li>
      <li class="list--item">
        <a href="https://twitter.com/bluebox?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor" class="list--item__link">Twitter</a>
      </li>
      <li class="list--item">
        <a href="https://www.linkedin.com/company/blue-box-group" class="list--item__link">LinkedIn</a>
      </li>
      <li class="list--item">
        <a href="https://plus.google.com/+BlueBoxSeattle/posts" class="list--item__link">Google +</a>
      </li>
      <li class="list--item">
        <a href="https://github.com/blueboxgroup" class="list--item__link">GitHub</a>
      </li>
    </ul>

    <ul class="footer--list">
      <li class="list--item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/private-cloud-contact-us" class="list--item__link">Contact</a>
      </li>
      <li class="list--item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="list--item__link">Legal</a>
      </li>
      <li class="list--item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="list--item__link">Privacy Policy</a>
      </li>
      <li class="list--item">
        <a href="https://www.ibm.com/cloud-computing/bluemix/bluemix-private-cloud" class="list--item__link">Terms and Conditions</a>
      </li>

    </ul>
  </div>
  <div class="footer__wrapper--black">
    <p>
        &copy; 2017 IBM Bluemix
    </p>
  </div>
</footer>



    <script src="/tyying/help-documentation-staging-area/js/vendor/simple-jekyll-search.js" type="text/javascript"></script>


    <script>
        SimpleJekyllSearch({
          searchInput: document.getElementById('search-input'),
          resultsContainer: document.getElementById('results-container'),
          json: '/tyying/help-documentation-staging-area/search.json',
          searchResultTemplate: '<li class="search-item"><a href="{url}" class="item-title">{title}</a><ul class="tag--list">{tags}</ul></li>'
        });
    </script>
  <script src="/tyying/help-documentation-staging-area/js/scripts.js"></script>

  </body>

</html>
